{"version":3,"sources":["API/API.js","Components/ProductCard.jsx","Context/Contexts.js","Components/SearchProduct.jsx","Components/Home.jsx","Components/Admin/AdminNav.jsx","Components/ClientNav.jsx","Components/Navbar.jsx","Components/Token.jsx","Components/LoginScreen.jsx","Components/NewAccount.jsx","Components/Admin/AddProduct.jsx","Components/Admin/AddCategory.jsx","Components/Admin/AdminHome.jsx","Components/Admin/SingleProduct/ProductInfoUpdate.jsx","Components/Admin/SingleProduct/AddProductImage.jsx","Components/Admin/SingleProduct/NewInfoForm.jsx","Components/Admin/SingleProduct/SingleProduct.jsx","Components/Styled/ColorSquares.js","Components/Styled/GoBackArrow.js","Components/ProductDetail.jsx","Components/Admin/AdminCategory.jsx","Components/CartItem.jsx","Components/Cart.jsx","Components/Transactions/PurchaseSuccess.jsx","Components/Transactions/TransactionList.jsx","Components/Transactions/TransactionDetail.jsx","Components/Categories.jsx","Components/Admin/AdminTransactions.jsx","Components/Transactions/PurchaseFailure.jsx","App.js","index.js"],"names":["token","decodedToken","url","params","Authorization","userData","a","id","_id","fetch","response","json","data","logout","localStorage","clear","localUser","email","password","method","headers","body","JSON","stringify","status","setItem","newUser","username","confirm","getProducts","addNewProduct","name","category","price","color","size","quantity","image","description","formData","FormData","append","productDetail","productId","deleteProduct","updateDescription","updateProduct","addImagesToProduct","img","deleteProductImage","index","imageToDeleteIndex","deleteProductInfo","addToCart","updateUserCart","cart","checkStock","newTransaction","userId","transaction_id","items","date","getTransaction","userTransactions","updateTransactionStatus","allTransactions","getCategories","getProductByCat","newCategory","ProductCard","props","useState","setColors","setSizes","images","useEffect","sizeArr","colorArr","indexOf","push","to","style","textDecoration","className","Card","CardBody","CardTitle","tag","CardSubtitle","CardImg","top","width","src","length","alt","height","userContext","createContext","SearchProduct","products","productName","setProductName","suggestions","setSuggestions","setProductId","redirect","setRedirect","Input","onChange","e","matches","target","value","filter","elem","regex","RegExp","match","onClick","map","suggestion","product","Home","setProducts","user","useContext","admin","Row","Col","md","uniqid","AdminNav","isOpen","setIsOpen","setUser","logOut","window","location","replace","Navbar","light","expand","NavbarBrand","href","NavbarToggler","Collapse","navbar","Nav","NavItem","NavLink","ClientNav","cartItems","setCartItems","NavBar","Token","setToken","urlToken","split","localToken","history","pushState","LoginScreen","setEmail","setPassword","logged","setLogged","loginError","setLogginErros","Form","FormGroup","Label","for","type","placeholder","Button","NewAccount","setUsername","setConfirm","createAccErrors","setCreateAccErrors","accCreated","setAccCreated","count","setCount","setTimeout","vaue","error","msg","info","errors","AddProduct","productPrice","setProductPrice","categoryId","setCategoryId","setSize","setColor","setQuantity","categories","setCategories","showProductForm","setShowProductForm","productErrors","setProductErrors","setImage","setDescription","loading","setLoading","productForm","resetState","encType","selectedIndex","element","options","defaultValue","disabled","cat","autoComplete","onFocus","files","err","role","result","AddCategory","categoryName","setCategoryName","showCategoryForm","setShowCategoryForm","toggleForm","AdminHome","ProductInfoUpdate","editProduct","setEditProduct","deleted","alert","setProduct","AddProductImage","imagesToAdd","setImagesToAdd","imagex","isLoading","setIsLoading","imageHandler","old","i","multiple","updatedProduct","hideForm","NewInfoForm","edit","details","setNewInfoForm","newInfoForm","SingleProduct","showImageForm","setShowImageForm","productDeleted","setProductDeleted","descriptionForm","setShowDescription","countDown","setCountDown","countDownOver","setCountDownOver","toggleDescription","xs","toLocaleString","ColorSquares","styled","div","GoBackArrow","route","fontSize","ProductDetail","sizes","colors","selectedSize","setSelectedSize","selectedColor","setSelectedColor","addedToCart","setAddedToCart","getItem","availableSizes","forEach","key","selectSize","colorsBySize","showColorsBySize","productAdded","newCart","AdminCategory","active","setActive","Breadcrumb","BreadcrumbItem","pro","CartItem","increment","decrement","removeItem","splice","updatedUser","Cart","total","setTotal","sum","item","checkoutButton","date_created","init_point","PurchaseSuccess","success","setSuccess","preferenceId","setPreferenceId","compareCollectionsId","replaceState","TransactionList","purchases","setPurchases","getUserTransactions","transactions","Table","scope","Date","toLocaleDateString","title","TransactionDetail","detail","setDetail","getDetail","transaction","totalPrice","unit_price","Categories","AdminTransactions","setTransactions","getAllTransactions","PurchaseFailure","App","jwt","decode","exp","now","Provider","path","component","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1fd86aae.chunk.js","sourcesContent":["import jwt from \"jsonwebtoken\";\nimport { NavbarText } from \"reactstrap\";\n\n//const url = \"http://localhost:5000\"; // DEVELOPMENT\nconst url = \"https://ecommercedemosite.herokuapp.com\"; // LIVE\nlet token;\nlet decodedToken;\nconst params = {\n  Authorization: token,\n  \"Content-Type\": \"application/json\",\n};\n\n/**************************************************** USER  ***************************************************************/\n// CHECK FOR LOCAL TOKEN\nexport const checkForToken = () => {\n  token = localStorage.getItem(\"token\");\n  if (token) {\n    decodedToken = jwt.decode(token);\n    const expiresAt = new Date(decodedToken.exp * 1000);\n    if (expiresAt < new Date(Date.now())) {\n      localStorage.clear();\n    } else {\n      return (token = \"Bearer \" + token);\n    }\n  } else return null;\n};\n\n// GET THE USER DATA\nexport const userData = async () => {\n  try {\n    let id = decodedToken._id;\n    const response = await fetch(url + \"/user/\" + id);\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// LOGOUT USER\nexport const logout = async () => {\n  await fetch(url + \"/logout\");\n  localStorage.clear();\n};\n\n// LOG IN LOCAL USER\nexport const localUser = async (email, password) => {\n  const response = await fetch(url + \"/user/login\", {\n    method: \"POST\",\n    headers: params,\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  });\n  const data = await response.json();\n  if (response.status === 200) localStorage.setItem(\"token\", data.token);\n  return { data, status: response.status };\n};\n\n// CREATE LOCAL USER\nexport const newUser = async (email, username, password, confirm) => {\n  const response = await fetch(url + \"/user/new\", {\n    method: \"POST\",\n    headers: params,\n    body: JSON.stringify({\n      email,\n      username,\n      password,\n      confirm,\n    }),\n  });\n  const data = await response.json();\n  return { response, data };\n};\n\n/********************************************************* PRODUCTS ****************************************/\n// GET PRODUCTS\nexport const getProducts = async () => {\n  try {\n    const response = await fetch(url + \"/products\");\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// ADD NEW PRODUCT\nexport const addNewProduct = async (\n  name,\n  category,\n  price,\n  color,\n  size,\n  quantity,\n  image,\n  description\n) => {\n  const formData = new FormData();\n  formData.append(\"name\", name);\n  formData.append(\"price\", price);\n  formData.append(\"category\", category);\n  formData.append(\"color\", color);\n  formData.append(\"size\", size);\n  formData.append(\"quantity\", quantity);\n  formData.append(\"image\", image);\n  formData.append(\"description\", description);\n  try {\n    const response = await fetch(url + \"/product/new\", {\n      method: \"POST\",\n      body: formData,\n    });\n    const data = await response.json();\n    return { status: response.status, data };\n  } catch (err) {\n    return err;\n  }\n};\n\n// PRODUCT DETAIL\nexport const productDetail = async (productId) => {\n  try {\n    const response = await fetch(url + \"/product/\" + productId, {\n      method: \"GET\",\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// DELETE PRODUCT WITH ALL INFO AND IMAGES\nexport const deleteProduct = async (id) => {\n  await fetch(url + \"/product/\" + id, {\n    method: \"DELETE\",\n    headers: params,\n  });\n};\n\n// UPDATE DESCRIPTION\nexport const updateDescription = async (id, description) => {\n  await fetch(url + \"/product/description/\" + id, {\n    method: \"PUT\",\n    headers: params,\n    body: JSON.stringify({\n      description,\n    }),\n  });\n};\n\n// EDIT PRODUCT PRICE STOCK\nexport const updateProduct = async (id, size, quantity, color, description) => {\n  try {\n    const response = await fetch(url + \"/product/update/\" + id, {\n      method: \"PUT\",\n      headers: params,\n      body: JSON.stringify({ size, quantity, color, description }),\n    });\n    const data = await response.json();\n    return { status: response.status, data };\n  } catch (err) {\n    return err;\n  }\n};\n\n// ADD IMAGES TO PRODUCT\nexport const addImagesToProduct = async (id, image) => {\n  const formData = new FormData();\n  for (let img of image) {\n    formData.append(\"image\", img);\n  }\n  try {\n    const response = await fetch(url + \"/product/image/\" + id, {\n      method: \"PUT\",\n      body: formData,\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// DELETE PRODUCT IMAGE\nexport const deleteProductImage = async (index, id) => {\n  try {\n    const response = await fetch(url + \"/product/delete/image/\" + id, {\n      method: \"DELETE\",\n      headers: params,\n      body: JSON.stringify({ imageToDeleteIndex: index }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// DELETE PRODUCT DETAIL\nexport const deleteProductInfo = async (id, index) => {\n  try {\n    const response = await fetch(url + \"/product/details/\" + id, {\n      method: \"DELETE\",\n      headers: params,\n      body: JSON.stringify({\n        index,\n      }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// ADD PRODUC TO USER CART\nexport const addToCart = async (id, productId, size, color, quantity) => {\n  const response = await fetch(url + \"/product/cart/\" + id, {\n    method: \"PUT\",\n    headers: params,\n    body: JSON.stringify({\n      id: productId,\n      size,\n      color,\n      quantity,\n    }),\n  });\n  const data = await response.json();\n  return data;\n};\n\n// UPDATE USER CART\nexport const updateUserCart = async (id, cart) => {\n  try {\n    const response = await fetch(url + \"/user/product/cart/\" + id, {\n      method: \"PUT\",\n      headers: params,\n      body: JSON.stringify({\n        cart,\n      }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// UPDATE USER PURCHASES ARRAY\nexport const updatePurchases = async (userId, purchase) => {\n  try {\n    const response = await fetch(url + \"/user/purchases/\" + userId, {\n      method: \"PUT\",\n      headers: params,\n      body: JSON.stringify({\n        purchase,\n      }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    return error;\n  }\n};\n\n// GET PURCHASE DETAIL\nexport const purchaseDetail = async (userId, index) => {\n  try {\n    const response = await fetch(url + \"/purchase/detail/\" + userId, {\n      method: \"POST\",\n      headers: params,\n      body: JSON.stringify({\n        index,\n      }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n/****************************************************************** CHECKOUT    *******************************************************************/\n\n// CHECK STOCK BEFORE CHECKOUT AND REDIRECT\nexport const checkStock = async (id) => {\n  try {\n    const response = await fetch(url + \"/checkout/\" + id, {\n      method: \"POST\",\n      headers: params,\n    });\n    const data = await response.json();\n    return { data, status: response.status };\n  } catch (err) {\n    return err;\n  }\n};\n\n//SUCCESS TEST\nexport const success = async () => {\n  try {\n    const resposne = await fetch(url + \"/success\");\n    const data = await resposne.json();\n  } catch (err) {\n    return err;\n  }\n};\n\nexport const updateSuccessPurchase = async (id, index) => {\n  try {\n    const response = await fetch(url + \"/user/success/\" + id, {\n      method: \"PUT\",\n      headers: params,\n      body: JSON.stringify({\n        index,\n      }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n/******************************************************************* TRANSACTIONS ***************************/\n\n// NEW TRANSACTION\nexport const newTransaction = async (\n  userId,\n  transaction_id,\n  status,\n  items,\n  date\n) => {\n  try {\n    const response = await fetch(url + \"/transaction/new\", {\n      method: \"POST\",\n      headers: params,\n      body: JSON.stringify({\n        userId,\n        transaction_id,\n        status,\n        items,\n        date,\n      }),\n    });\n    const data = await response.json();\n  } catch (err) {\n    return err;\n  }\n};\n\n// GET  SPECIFIC TRANSACTION\nexport const getTransaction = async (transaction_id) => {\n  try {\n    const response = await fetch(url + \"/transaction/\" + transaction_id);\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// GET USER TRANSACTIONS\nexport const userTransactions = async (userId) => {\n  try {\n    const response = await fetch(url + \"/transactions/user/\" + userId);\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n//UPDATE TRANSACTION STATUS\nexport const updateTransactionStatus = async (id, status) => {\n  try {\n    await fetch(url + \"/transaction/update\", {\n      method: \"PUT\",\n      headers: params,\n      body: JSON.stringify({\n        id,\n        status,\n      }),\n    });\n  } catch (err) {\n    return err;\n  }\n};\n\n// GET ALL TRANSACTIONS\nexport const allTransactions = async () => {\n  try {\n    const response = await fetch(url + \"/transactions/all\", {\n      method: \"GET\",\n      headers: params,\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n/******************************************************************* CATEGORIES  *******************************************************************/\n\n// GET ALL CATEGORIES\nexport const getCategories = async () => {\n  try {\n    const response = await fetch(url + \"/categories\");\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    return err;\n  }\n};\n\n// GET PRODUCT BY CATEGORY\nexport const getProductByCat = async (category) => {\n  try {\n    const response = await fetch(url + \"/category/product\", {\n      method: \"POST\",\n      headers: params,\n      body: JSON.stringify({ category }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {}\n};\n\n// NEW CATEGORY\nexport const newCategory = async (name) => {\n  try {\n    const response = await fetch(url + \"/category/new\", {\n      method: \"POST\",\n      headers: params,\n      body: JSON.stringify({\n        name,\n      }),\n    });\n    const data = await response.json();\n    return data;\n  } catch (err) {}\n};\n","import { useEffect, useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card, CardImg, CardBody, CardTitle, CardSubtitle } from \"reactstrap\";\n\n// DISPLAY THE PRODUCTS CARDS WITH TITLE; PRICE AND IMAGE\n\nexport const ProductCard = (props) => {\n  const [, setColors] = useState([]);\n  const [, setSizes] = useState([]);\n  const { id, name, price, images, size, color } = props;\n\n  useEffect(() => {\n    // FIND ALL THE UNIQUE COLORS AND SIZES\n    let sizeArr = [],\n      colorArr = [];\n    if (size && color) {\n      if (sizeArr.indexOf(size) === -1) sizeArr.push(size);\n      if (colorArr.indexOf(color) === -1) colorArr.push(color);\n      setSizes(sizeArr);\n      setColors(colorArr);\n    }\n  }, []);\n\n  return (\n    <div>\n      <Link\n        to={\"/ecommerce-client/product?\" + id}\n        id={id}\n        style={{ textDecoration: \"none\" }}\n        className=\"text-dark\"\n      >\n        <Card className=\"w-75 mx-auto text-center\">\n          <CardBody>\n            <CardTitle tag=\"h5\">{name}</CardTitle>\n            <CardSubtitle tag=\"h6\" className=\"mb-2 text-muted\">\n              $ {price}\n            </CardSubtitle>\n            <CardImg\n              top\n              width=\"auto\"\n              src={images.length ? images[0].url : null}\n              alt=\"Product image\"\n              style={{ height: \"150px\" }}\n            />\n          </CardBody>\n        </Card>\n      </Link>\n    </div>\n  );\n};\n","import { createContext } from \"react\";\n\nexport const userContext = createContext({});\nexport const userCartContext = createContext([]);\n","import { Input } from \"reactstrap\";\nimport { useState } from \"react\";\nimport { Redirect } from \"react-router\";\n\n// SEARCH PRODUCTS ON INPUT\n\nexport const SearchProduct = (props) => {\n  const { products } = props;\n  const [productName, setProductName] = useState(\"\");\n  const [suggestions, setSuggestions] = useState([]);\n  const [productId, setProductId] = useState(\"\");\n  const [redirect, setRedirect] = useState(false);\n\n  const nameHandler = (e) => {\n    let matches = [];\n    // VALIDATES THE INPUT WITH POSSIBLE SUGGESTIONS\n    if (e.target.value.length) {\n      matches = products.filter((elem) => {\n        const regex = new RegExp(`${e.target.value}`, \"gi\");\n        return elem.name.match(regex);\n      });\n    }\n    setSuggestions(matches);\n    setProductName(e.target.value);\n  };\n\n  const suggestionHandler = (product) => {\n    setProductName(product.name);\n    setProductId(product._id);\n    setSuggestions([]);\n    setRedirect(true);\n  };\n\n  return (\n    <div>\n      {redirect && <Redirect to={\"/ecommerce-client/product/?\" + productId} />}\n      <div className=\" mx-auto search mt-5\">\n        <Input onChange={nameHandler} value={productName} />\n        <i\n          onClick={() => setRedirect(true)}\n          className=\"fas fa-search searchIcon text-center\"\n        ></i>\n      </div>\n      {suggestions &&\n        suggestions.map((suggestion, index) => {\n          return (\n            <div\n              key={index}\n              className=\"suggestion mx-auto p-1\"\n              onClick={() => suggestionHandler(suggestion)}\n            >\n              {suggestion.name}\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n","import { useContext, useEffect, useState } from \"react\";\nimport { getProducts } from \"../API/API\";\nimport { ProductCard } from \"./ProductCard\";\nimport uniqid from \"uniqid\";\nimport { Row, Col } from \"reactstrap\";\nimport { userContext } from \"../Context/Contexts\";\nimport { Redirect } from \"react-router\";\nimport { SearchProduct } from \"./SearchProduct\";\nimport { Link } from \"react-router-dom\";\n\nconst Home = () => {\n  const [products, setProducts] = useState([]);\n\n  const { user } = useContext(userContext);\n\n  // GET ALL PRODUCTS\n  useEffect(() => {\n    (async () => {\n      setProducts(await getProducts());\n    })();\n    return () => {\n      setProducts();\n    };\n  }, []);\n\n  return user ? (\n    user.admin ? (\n      <Redirect to=\"/ecommerce-clien/admin-productos\" />\n    ) : (\n      <div>\n        <SearchProduct products={products} />\n\n        <Row className=\"container mx-auto\">\n          {products\n            ? products.map((product) => {\n                const { name, _id, description, images, size, color, price } =\n                  product;\n                return (\n                  <Col md={3} className=\"mt-5 mx-auto\" key={_id}>\n                    <ProductCard\n                      key={uniqid()}\n                      id={_id}\n                      name={name}\n                      price={price}\n                      images={images}\n                      description={description}\n                      size={size}\n                      color={color}\n                    />\n                  </Col>\n                );\n              })\n            : null}\n        </Row>\n      </div>\n    )\n  ) : (\n    <h5 className=\"text-center mt-5\">\n      Please{\" \"}\n      <Link to=\"/ecommerce-clien/login\" className=\"text-primary\">\n        Log in\n      </Link>\n    </h5>\n  );\n};\n\nexport default Home;\n","import React, { useState, useContext } from \"react\";\nimport { userContext } from \"../../Context/Contexts\";\nimport { logout } from \"../../API/API\";\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n} from \"reactstrap\";\n\n/* DISPLAY THE ADMIN NAV BAR, WITH LINKS TO SELLS, CATEGORIES AND \nPRODUCTS LINKS */\n\nexport const AdminNav = () => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  const { user, setUser } = useContext(userContext);\n\n  const logOut = async () => {\n    await logout();\n    setUser(null);\n    window.location.replace(\"/\");\n  };\n\n  return (\n    <div className=\"px-2 container\">\n      <Navbar color=\"light\" light expand=\"md\">\n        <NavbarBrand href=\"/#/admin-productos\">{user.username}</NavbarBrand>\n        <NavbarToggler onClick={toggle} />\n        <Collapse isOpen={isOpen} navbar>\n          <Nav className=\"mr-auto\" navbar>\n            <NavItem>\n              <NavLink href=\"/#/ecommerce-client/admin-transactions\">\n                Transactions\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink href=\"/#/ecommerce-client/admin-categorias\">\n                Categories\n              </NavLink>\n            </NavItem>\n            <NavItem>\n              <NavLink href=\"/#/ecommerce-client/admin-productos\">\n                Products\n              </NavLink>\n            </NavItem>\n            {user ? (\n              <NavItem>\n                <NavLink href=\"#\" onClick={logOut}>\n                  Log out\n                </NavLink>\n              </NavItem>\n            ) : null}\n          </Nav>\n        </Collapse>\n      </Navbar>\n      <div className=\"home-title\">\n        <h1>Lorem</h1>\n      </div>\n    </div>\n  );\n};\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { userContext } from \"../Context/Contexts\";\nimport { logout } from \"../API/API\";\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  NavLink,\n} from \"reactstrap\";\n\n// DISPLAY THE CLIENT NAV BAR\n\nexport const ClientNav = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([]);\n\n  const toggle = () => setIsOpen(!isOpen);\n\n  const { user, setUser } = useContext(userContext);\n\n  useEffect(() => {\n    if (user) {\n      setCartItems(user.cart);\n    }\n  }, [user]);\n\n  const logOut = async () => {\n    await logout();\n    setUser(null);\n    setCartItems(null);\n  };\n\n  return (\n    <div className=\"px-lg-2 container\">\n      {user ? (\n        <div>\n          <Navbar color=\"light\" light expand=\"lg\">\n            <NavbarBrand className=\"px-1\" href=\"/\">\n              Logo\n            </NavbarBrand>\n            <NavbarToggler onClick={toggle} />\n            <Collapse isOpen={isOpen} navbar>\n              <Nav className=\"d-flex w-100\" navbar>\n                <NavItem>\n                  <NavLink href=\"/#/ecommerce-client/\">Products</NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink href=\"/#/ecommerce-client/transactions/\">\n                    Transactions\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink href=\"/#/ecommerce-client/categories\">\n                    Categories\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink className=\"cart\" href=\"/#/ecommerce-client/cart\">\n                    <i className=\"fas fa-shopping-cart\"></i>\n                    {cartItems && cartItems.length ? (\n                      <div className=\"arrow\">\n                        <p>{cartItems.length}</p>\n                      </div>\n                    ) : null}\n                  </NavLink>\n                </NavItem>\n                {user ? <NavItem></NavItem> : null}\n                {user ? (\n                  <NavItem>\n                    <NavLink\n                      href=\"#\"\n                      onClick={() => {\n                        logOut();\n                      }}\n                    >\n                      Log out\n                    </NavLink>\n                  </NavItem>\n                ) : null}\n              </Nav>\n            </Collapse>\n            <h5 className=\"mx-5 pt-2\">Hello, {user.username}</h5>\n          </Navbar>\n        </div>\n      ) : (\n        <Navbar>\n          <a href=\"/#/ecommerce-client/login\" className=\"btn btn-primary\">\n            Log in\n          </a>\n        </Navbar>\n      )}\n      <div className=\"home-title\">\n        <h1>Lorem</h1>\n      </div>\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { userContext } from \"../Context/Contexts\";\nimport { AdminNav } from \"./Admin/AdminNav\";\nimport { ClientNav } from \"./ClientNav\";\n\nexport const NavBar = () => {\n  const { user } = useContext(userContext);\n  return user ? user.admin ? <AdminNav /> : <ClientNav /> : <ClientNav />;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nexport const Token = (props) => {\n  const [token, setToken] = useState(\"\");\n  useEffect(() => {\n    const url = window.location.href;\n    const urlToken = url.split(\"?\")[1];\n    //split token=\n    const localToken = urlToken.split(\"=\")[1];\n    setToken(urlToken.split(\"=\")[1]);\n    window.history.pushState({}, \"\", url.split(\"?\")[0]);\n    localStorage.setItem(\"token\", localToken);\n  }, []);\n  return <div>{token ? <Redirect to=\"/ecommerce-client/\" /> : null}</div>;\n};\n","import { Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport \"../Styles/google-btn.css\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { localUser } from \"../API/API\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { userContext } from \"../Context/Contexts\";\n\nexport const LoginScreen = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [logged, setLogged] = useState(false);\n  const [loginError, setLogginErros] = useState(\"\");\n  const { setUser } = useContext(userContext);\n\n  const emailHandler = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const passwordHandler = (e) => {\n    setPassword(e.target.value);\n  };\n\n  return (\n    <Form className=\"container  mt-4 bg-dark text-light p-4 rounded\">\n      <FormGroup>\n        <Label for=\"email\">Email</Label>\n        <Input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email..\"\n          value={email}\n          onChange={emailHandler}\n        />\n      </FormGroup>\n      <FormGroup>\n        <Label for=\"passowrd\">Password</Label>\n        <Input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password..\"\n          value={password}\n          onChange={passwordHandler}\n        />\n      </FormGroup>\n      {loginError ? (\n        <FormGroup className=\"text-center pt-1\">\n          <Label>{loginError}</Label>\n        </FormGroup>\n      ) : null}\n      <FormGroup className=\"text-center\">\n        <Button\n          className=\"mt-2 mb-1 bg-primary w-25\"\n          onClick={async () => {\n            const response = await localUser(email, password);\n            if (response.status === 200) {\n              setLogged(true);\n              setUser(response.data.user);\n            }\n            if (response.status === 500) setLogginErros(response.data);\n          }}\n        >\n          Log in\n        </Button>\n      </FormGroup>\n      <FormGroup className=\"d-flex justify-content-center pt-2\">\n        <div className=\"google-btn\">\n          <div className=\"google-icon-wrapper\">\n            <img\n              src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n              alt=\"\"\n              className=\"google-icon\"\n            />\n          </div>\n          {/* CHANGE URL ON */}\n          <a\n            href=\"https://ecommercedemosite.herokuapp.com/user/google/login\"\n            className=\"btn-text\"\n          >\n            <b>Log in with google</b>\n          </a>\n        </div>\n      </FormGroup>\n      <hr />\n      <FormGroup className=\"text-center\">\n        <Link to=\"/ecommerce-client/newaccount\" className=\"btn bg-success\">\n          Crear cuenta\n        </Link>\n      </FormGroup>\n      {logged ? <Redirect to=\"/ecommerce-client/\" /> : null}\n    </Form>\n  );\n};\n","import { Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport { useState, useEffect } from \"react\";\nimport { newUser } from \"../API/API\";\nimport { Redirect } from \"react-router-dom\";\n\nexport const NewAccount = () => {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirm, setConfirm] = useState(\"\");\n  const [createAccErrors, setCreateAccErrors] = useState([]);\n  const [accCreated, setAccCreated] = useState(false);\n  const [count, setCount] = useState(3);\n  const [redirect, setRedirect] = useState(false);\n\n  const emailHandler = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const usernameHandler = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const passwordHandler = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const confirmHandler = (e) => {\n    setConfirm(e.target.value);\n  };\n\n  useEffect(() => {\n    setAccCreated(false);\n  }, []);\n\n  useEffect(() => {\n    if (accCreated) {\n      if (count > 0) {\n        setTimeout(() => {\n          setCount(count - 1);\n        }, 1000);\n      }\n    }\n  }, [accCreated, count]);\n\n  useEffect(() => {\n    if (count === 0) setRedirect(true);\n  }, [count]);\n\n  return (\n    <Form className=\"container mt-5 text-light p-2 bg-dark rounded\">\n      {accCreated ? (\n        <FormGroup className=\"text-center\">\n          <div className=\"p-5\">\n            <Label className=\"p-5\">Account created</Label>\n            <br />\n            <Label>Redirecting in {count}</Label>\n          </div>\n        </FormGroup>\n      ) : (\n        <div>\n          <FormGroup>\n            <Label for=\"email\">Email</Label>\n            <Input\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Enter your email\"\n              onChange={emailHandler}\n              vaue={email}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"username\">Usuario</Label>\n            <Input\n              type=\"text\"\n              name=\"username\"\n              placeholder=\"Enter your username\"\n              onChange={usernameHandler}\n              value={username}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"password\">Password</Label>\n            <Input\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Enter your password\"\n              onChange={passwordHandler}\n              value={password}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"confirmPassowrd\">Email</Label>\n            <Input\n              type=\"password\"\n              name=\"confirm\"\n              placeholder=\"Confirm password\"\n              onChange={confirmHandler}\n              value={confirm}\n            />\n          </FormGroup>\n          {createAccErrors\n            ? createAccErrors.map((error) => {\n                return (\n                  <FormGroup className=\"text-center\">\n                    <Label>{error.msg}</Label>\n                  </FormGroup>\n                );\n              })\n            : null}\n          <FormGroup className=\"d-flex justify-content-center\">\n            <Button\n              className=\"btn bg-primary mt-3 w-25\"\n              onClick={async () => {\n                let info = await newUser(email, username, password, confirm);\n                if (info.response.status === 500) {\n                  setCreateAccErrors(info.data.errors);\n                }\n                if (info.response.status === 200) setAccCreated(true);\n              }}\n            >\n              Crear\n            </Button>\n          </FormGroup>\n        </div>\n      )}\n      {redirect ? <Redirect to=\"/ecommerce-client/login\" /> : null}\n    </Form>\n  );\n};\n","import { Form, FormGroup, Label, Input, Button } from \"reactstrap\";\nimport { getCategories, addNewProduct } from \"../../API/API\";\nimport { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport uniqid from \"uniqid\";\n\n/* ADDS A NEW PRODUCT WITH ALL THE DETAILS AND 1 IMAGE, \nMORE IMAGES CAN BE ADDED LATER. REDIRECTS TO SINGLEPRODUCT */\n\nexport const AddProduct = () => {\n  const [productName, setProductName] = useState(\"\");\n  const [productPrice, setProductPrice] = useState(0);\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [size, setSize] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [categories, setCategories] = useState([]);\n  const [showProductForm, setShowProductForm] = useState(false);\n  const [productErrors, setProductErrors] = useState();\n  const [productId, setProductId] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const nameHandler = (e) => {\n    setProductName(e.target.value);\n  };\n\n  const categoryHandler = (e) => {\n    const index = e.target.selectedIndex;\n    const element = e.target.options[index];\n    setCategoryId(element.id);\n  };\n\n  const priceHandler = (e) => {\n    setProductPrice(e.target.value);\n  };\n\n  const sizeHandler = (e) => {\n    setSize(e.target.value);\n  };\n\n  const colorHandler = (e) => {\n    setColor(e.target.value);\n  };\n\n  const stockHandler = (e) => {\n    setQuantity(e.target.value);\n  };\n\n  const imageHandler = (e) => {\n    setImage(e.target.files[0]);\n  };\n\n  const descriptionHandler = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const productForm = () => {\n    setShowProductForm(!showProductForm);\n    resetState();\n  };\n\n  const resetState = () => {\n    setCategoryId(\"\");\n    setProductName(\"\");\n    setProductPrice(0);\n    setColor(\"\");\n    setQuantity(0);\n    setSize(\"\");\n    setDescription(\"\");\n  };\n\n  // GET ALL CATEGORIES\n  useEffect(() => {\n    (async () => {\n      setCategories(await getCategories());\n    })();\n    return () => setCategories();\n  }, []);\n\n  return categories ? (\n    !showProductForm ? (\n      <div className=\"text-center mb-2\">\n        <Button className=\"bg-primary\" onClick={productForm}>\n          Add new product\n        </Button>\n      </div>\n    ) : (\n      <div className=\" mb-2\">\n        <div className=\"text-center\">\n          <Button className=\"bg-primary\" onClick={productForm}>\n            Hide\n          </Button>\n        </div>\n        <Form encType=\"multipart/form-data\">\n          <FormGroup>\n            <Label>Category</Label>\n            <Input\n              type=\"select\"\n              name=\"category\"\n              onChange={categoryHandler}\n              defaultValue={categoryId}\n            >\n              <option value=\"\" disabled>\n                Select a category\n              </option>\n              {categories.map((cat) => {\n                return (\n                  <option id={cat._id} key={cat._id}>\n                    {cat.name}\n                  </option>\n                );\n              })}\n            </Input>\n          </FormGroup>\n          <FormGroup>\n            <Label>Product name</Label>\n            <Input\n              name=\"productName\"\n              autoComplete=\"off\"\n              value={productName}\n              placeholder=\"enter product name\"\n              onChange={nameHandler}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>Product description</Label>\n            <Input\n              name=\"description\"\n              autoComplete=\"off\"\n              value={description}\n              onChange={descriptionHandler}\n              placeholder=\"brief description\"\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>Product price</Label>\n            <Input\n              type=\"number\"\n              name=\"productPrice\"\n              autoComplete=\"off\"\n              value={productPrice}\n              onChange={priceHandler}\n              placeholder=\"Enter product price\"\n              onFocus={() => setProductPrice(\"\")}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>Product size</Label>\n            <Input\n              name=\"size\"\n              autoComplete=\"off\"\n              value={size}\n              placeholder=\"enter product size\"\n              onChange={sizeHandler}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>Product color</Label>\n            <Input\n              name=\"color\"\n              autoComplete=\"off\"\n              value={color}\n              placeholder=\"enter product color\"\n              onChange={colorHandler}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>Product stock</Label>\n            <Input\n              type=\"number\"\n              name=\"quantity\"\n              autoComplete=\"off\"\n              value={quantity}\n              placeholder=\"enter product quantity/stock\"\n              onChange={stockHandler}\n              onFocus={() => setQuantity(\"\")}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label>Product picture</Label>\n            <div>\n              <Input type=\"file\" name=\"image\" onChange={imageHandler} />\n            </div>\n          </FormGroup>\n          <FormGroup className=\"text-center mt-3\">\n            {productErrors\n              ? productErrors.map((err) => {\n                  return (\n                    <FormGroup key={uniqid()} className=\"mb-1\">\n                      <Label>{err.msg}</Label>\n                    </FormGroup>\n                  );\n                })\n              : null}\n            {loading ? (\n              <div className=\"spinner-grow\" role=\"status\"></div>\n            ) : (\n              <Button\n                className=\"bg-primary\"\n                onClick={async () => {\n                  setLoading(true);\n                  const result = await addNewProduct(\n                    productName,\n                    categoryId,\n                    productPrice,\n                    color,\n                    size,\n                    quantity,\n                    image,\n                    description\n                  );\n                  setLoading(false);\n                  if (result.status === 500) {\n                    setProductErrors(result.data);\n                  } else {\n                    resetState();\n                    setProductId(result.data._id);\n                  }\n                }}\n              >\n                Add product\n              </Button>\n            )}\n          </FormGroup>\n        </Form>\n        {productId ? (\n          <Redirect to={\"/ecommerce-client/product?\" + productId} />\n        ) : null}\n      </div>\n    )\n  ) : (\n    <p>loading</p>\n  );\n};\n","import { Form, FormGroup, Label, Input, Button } from \"reactstrap\";\nimport { getCategories, newCategory } from \"../../API/API\";\nimport { useState, useEffect } from \"react\";\n\n/* ADDS A NEW PRODUCT CATEGORY */\n\nexport const AddCategory = () => {\n  const [categoryName, setCategoryName] = useState(\"\");\n  const [categories, setCategories] = useState([]);\n  const [showCategoryForm, setShowCategoryForm] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const nameHandler = (e) => {\n    setCategoryName(e.target.value);\n  };\n\n  const toggleForm = () => setShowCategoryForm(!showCategoryForm);\n\n  useEffect(() => {\n    (async () => {\n      setCategories(await getCategories());\n    })();\n  }, []);\n\n  return !showCategoryForm ? (\n    <div className=\"text-center mb-2\">\n      <Button className=\"bg-primary\" onClick={toggleForm}>\n        Add new category\n      </Button>\n    </div>\n  ) : (\n    <div className=\"text-center mb-2\">\n      <Button className=\"bg-primary\" onClick={toggleForm}>\n        Hide\n      </Button>\n      <Form>\n        <FormGroup>\n          <Label>Category name</Label>\n          <Input\n            name=\"productCategory\"\n            value={categoryName}\n            placeholder=\"enter category name\"\n            onChange={nameHandler}\n          />\n        </FormGroup>\n        <FormGroup className=\"text-center mt-3\">\n          {loading ? (\n            <div className=\"spinner-grow\"></div>\n          ) : (\n            <Button\n              className=\"bg-primary\"\n              onClick={async () => {\n                setLoading(true);\n                await newCategory(categoryName);\n                setLoading(false);\n                setShowCategoryForm(false);\n              }}\n            >\n              Add category\n            </Button>\n          )}\n        </FormGroup>\n      </Form>\n    </div>\n  );\n};\n","import { getProducts } from \"../../API/API\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { ProductCard } from \"../ProductCard\";\nimport uniqid from \"uniqid\";\nimport { Col, Row } from \"reactstrap\";\nimport { userContext } from \"../../Context/Contexts\";\nimport { Redirect } from \"react-router-dom\";\nimport { AddProduct } from \"./AddProduct\";\nimport { AddCategory } from \"./AddCategory\";\nimport { SearchProduct } from \"../SearchProduct\";\n\n/* DISPLAY THE ADMIN PRODUDCT PAGE WITH ALL THE PRODUCTS */\n\nexport const AdminHome = () => {\n  const [products, setProducts] = useState([]);\n\n  const { user } = useContext(userContext);\n\n  useEffect(() => {\n    (async () => {\n      setProducts(await getProducts());\n    })();\n\n    return () => setProducts();\n  }, []);\n\n  return user ? (\n    !user.admin ? (\n      <Redirect to=\"/\" />\n    ) : (\n      <Col className=\"mt-5 mx-auto container\">\n        <Row>\n          <Col md={6}>\n            <AddProduct />\n          </Col>\n          <Col md={6}>\n            <AddCategory />\n          </Col>\n        </Row>\n        <Row>\n          <div className=\"text-center\">\n            <SearchProduct products={products} />\n          </div>\n          {products\n            ? products.map((product) => {\n                const { name, _id, images, description, color, size, price } =\n                  product;\n                return (\n                  <Col md={3} className=\"mt-2 mx-auto\" key={uniqid()}>\n                    <ProductCard\n                      key={uniqid()}\n                      id={_id}\n                      name={name}\n                      price={price}\n                      images={images}\n                      description={description}\n                      color={color}\n                      size={size}\n                    />\n                  </Col>\n                );\n              })\n            : null}\n        </Row>\n      </Col>\n    )\n  ) : (\n    <Redirect to=\"/ecommerce-client/\" />\n  );\n};\n","import { useState } from \"react\";\nimport { Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport { updateProduct, deleteProductInfo } from \"../../../API/API\";\n\n/* ALLOWS TO EDIT THE PRICE AND STOCK,\n DELETE A SPECIFIC PRODUCT SIZE OR COLOR */\n\nexport const ProductInfoUpdate = (props) => {\n  const [editProduct, setEditProduct] = useState(false);\n  const [quantity, setQuantity] = useState(props.quantity);\n\n  const quantityHandler = (e) => {\n    setQuantity(e.target.value);\n  };\n\n  return editProduct ? (\n    <Form>\n      <FormGroup>\n        <Label>Size: {props.size}</Label>\n      </FormGroup>\n      <FormGroup>\n        <Label>Color: {props.color}</Label>\n      </FormGroup>\n      <FormGroup>\n        <Label>Quantity to add to stock</Label>\n        <Input value={quantity} onChange={quantityHandler} type=\"number\" />\n      </FormGroup>\n\n      <Button\n        className=\"bg-primary my-1\"\n        onClick={() => {\n          const edit = updateProduct(\n            props.id,\n            props.size,\n            quantity,\n            props.color,\n            props.description\n          );\n          if (edit) {\n            setEditProduct(!editProduct);\n          }\n        }}\n      >\n        Add\n      </Button>\n    </Form>\n  ) : (\n    <div className=\"border border-dark m-1\">\n      <p>Size: {props.size}</p>\n      <p>Color: {props.color}</p>\n      <p>Stock: {quantity}</p>\n      <div className=\"d-flex justify-content-around\">\n        <Button\n          className=\"bg-primary mb-1\"\n          onClick={() => setEditProduct(!editProduct)}\n        >\n          Edit\n        </Button>\n        <Button\n          className=\"bg-danger mb-1\"\n          onClick={async () => {\n            const deleted = await deleteProductInfo(props.id, props.index);\n            if (deleted.status === 500) {\n              alert(deleted.msg);\n            } else {\n              let product = deleted;\n              props.setProduct(product);\n            }\n          }}\n        >\n          Delete\n        </Button>\n      </div>\n    </div>\n  );\n};\n","import { Form, FormGroup, Input, Label, Button } from \"reactstrap\";\nimport { useEffect, useState } from \"react\";\nimport { addImagesToProduct } from \"../../../API/API\";\n// ADD PRODUCTS IMAGE\n\nexport const AddProductImage = (props) => {\n  const [images] = useState(props.product.images);\n  const [imagesToAdd, setImagesToAdd] = useState([]);\n  const [imagex, setImage] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const imageHandler = (e) => {\n    setImage((old) => [...old, e.target.files[0]]);\n  };\n\n  useEffect(() => {\n    let count = [];\n    for (let i = images.length; i < 5; i++) {\n      count.push(i);\n    }\n    setImagesToAdd(count);\n  }, []);\n\n  return (\n    <Form>\n      {imagesToAdd.map(() => {\n        return (\n          <FormGroup className=\"mt-1\">\n            <Label>Product picture</Label>\n            <div>\n              <Input\n                type=\"file\"\n                multiple\n                name=\"image\"\n                onChange={imageHandler}\n              />\n              <hr />\n            </div>\n          </FormGroup>\n        );\n      })}\n      {isLoading ? (\n        <div className=\"spinner-grow\" role=\"status\"></div>\n      ) : (\n        <Button\n          className=\"bg-primary mb-2\"\n          onClick={async () => {\n            setIsLoading(true);\n            const updatedProduct = await addImagesToProduct(props.id, imagex);\n            props.setProduct(updatedProduct);\n            setIsLoading(false);\n            props.hideForm();\n          }}\n        >\n          add\n        </Button>\n      )}\n    </Form>\n  );\n};\n","import { useState } from \"react\";\nimport { Form, FormGroup, Input, Label, Button } from \"reactstrap\";\nimport { updateProduct } from \"../../../API/API\";\n\n/* FORM TO ADD A NEW PRODUCT DETAIL, MEANING A NEW COLOR,\nSIZE, PRICE AND STOCK */\n\nexport const NewInfoForm = (props) => {\n  const [size, setSize] = useState(\"\");\n  const [color, setColor] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n\n  const quantityHandler = (e) => {\n    setQuantity(e.target.value);\n  };\n\n  const sizeHandler = (e) => {\n    setSize(e.target.value);\n  };\n\n  const colorHandler = (e) => {\n    setColor(e.target.value);\n  };\n\n  const resetValues = () => {\n    setColor(\"\");\n    setSize(\"\");\n    setQuantity(0);\n  };\n  return (\n    <Form>\n      <FormGroup>\n        <Label>Size</Label>\n        <Input\n          autoComplete=\"off\"\n          value={size}\n          onChange={sizeHandler}\n          placeholder=\"Product size\"\n        />\n      </FormGroup>\n      <FormGroup>\n        <Label>Color</Label>\n        <Input\n          autoComplete=\"off\"\n          value={color}\n          onChange={colorHandler}\n          placeholder=\"Product color\"\n        />\n      </FormGroup>\n      <FormGroup>\n        <Label>Quantity</Label>\n        <Input\n          autoComplete=\"off\"\n          value={quantity}\n          onChange={quantityHandler}\n          type=\"number\"\n          placeholder=\"Enter product quantity\"\n          onFocus={() => setQuantity(\"\")}\n        />\n      </FormGroup>\n\n      <div className=\"text-center\">\n        <Button\n          className=\"bg-primary my-1\"\n          onClick={async () => {\n            if (size && quantity && color) {\n              const edit = await updateProduct(props.id, size, quantity, color);\n              if (edit) {\n                let product = props.product;\n                product.details.push(edit.data);\n                props.setProduct(product);\n                resetValues();\n                props.setNewInfoForm(!props.newInfoForm);\n              }\n            } else alert(\"please fill all fields\");\n          }}\n        >\n          Add new info\n        </Button>\n      </div>\n    </Form>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport {\n  productDetail,\n  deleteProduct,\n  deleteProductImage,\n  updateDescription,\n} from \"../../../API/API\";\nimport { Col, Row, Button, Input } from \"reactstrap\";\nimport { ProductInfoUpdate } from \"./ProductInfoUpdate\";\nimport uniqid from \"uniqid\";\nimport { AddProductImage } from \"./AddProductImage\";\nimport { NewInfoForm } from \"./NewInfoForm\";\nimport { Redirect } from \"react-router\";\n\n/*  DISPLAY A SINGLE PRODUCT, WITH ALL THE INFO. ALLOWS TO\nDELETE THE PRODUCT, ADD NEW INFO OR ADD NEW IMAGES */\n\nexport const SingleProduct = () => {\n  const [productId, setProductId] = useState(\"\");\n  const [product, setProduct] = useState({});\n  const [showImageForm, setShowImageForm] = useState(false);\n  const [newInfoForm, setNewInfoForm] = useState(false);\n  const [productDeleted, setProductDeleted] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [descriptionForm, setShowDescription] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [countDown, setCountDown] = useState(5);\n  const [countDownOver, setCountDownOver] = useState(false);\n\n  // TOGGLE ADD IMAGE FORM\n  const toggleForm = () => {\n    setShowImageForm(!showImageForm);\n  };\n\n  const descriptionHandler = (e) => {\n    setDescription(e.target.value);\n  };\n  // TOGGLE ADD NEW INFO FORM\n  const toggleInfoForm = () => {\n    setNewInfoForm(!newInfoForm);\n  };\n\n  // TOGGLE DESCRIPTION FORM\n  const toggleDescription = () => {\n    setShowDescription(!descriptionForm);\n  };\n\n  // GET THE ID FROM URL\n  useEffect(() => {\n    const url = window.location.href;\n    const id = url.split(\"?\")[1];\n    setProductId(id);\n    return () => setProductId(\"\");\n  }, []);\n\n  // FETCH THE PRODUCT\n  useEffect(() => {\n    if (productId) {\n      (async () => {\n        setProduct(await productDetail(productId));\n      })();\n    }\n  }, [productId]);\n\n  // GET THE DESCRIPTION\n  useEffect(() => {\n    setDescription(product.description);\n  }, [product]);\n\n  useEffect(() => {\n    if (countDown === 0) {\n      setCountDown(0);\n      setCountDownOver(true);\n    }\n\n    if (countDown > 0) {\n      setTimeout(() => {\n        setCountDown(countDown - 1);\n      }, 1000);\n    }\n  }, [countDown]);\n\n  return productId ? (\n    product.details ? (\n      <div className=\"container mt-5 bg-light\">\n        <Row>\n          <Col xs={6} className=\" bg-light \">\n            <h1 className=\"text-center\">{product.name}</h1>\n            {descriptionForm ? (\n              <div className=\"text-center\">\n                <Input\n                  value={description}\n                  placeholder={description}\n                  onChange={descriptionHandler}\n                />\n                <Button\n                  className=\"bg-primary mt-2\"\n                  onClick={() => {\n                    updateDescription(productId, description);\n                    toggleDescription();\n                  }}\n                >\n                  update\n                </Button>\n              </div>\n            ) : (\n              <div className=\"text-center\">\n                <p>{description}</p>\n                <i onClick={toggleDescription} className=\"far fa-edit\"></i>\n              </div>\n            )}\n            <div className=\"text-center\">\n              <p> Price: ${product.price.toLocaleString()}</p>\n            </div>\n            <hr />\n            <div className=\"d-flex justify-content-around\">\n              <Button className=\"bg-primary mb-1\" onClick={toggleInfoForm}>\n                {newInfoForm ? \"Hide\" : \"Add new info\"}\n              </Button>\n              <Button\n                className=\"bg-danger mb-1\"\n                onClick={async () => {\n                  // TODO REMOVE FROM ALL USERS CART\n                  await deleteProduct(productId);\n                  setProductDeleted(true);\n                }}\n              >\n                Delete product\n              </Button>\n            </div>\n            {newInfoForm ? (\n              <NewInfoForm\n                newInfoForm={newInfoForm}\n                setNewInfoForm={setNewInfoForm}\n                id={productId}\n                setProduct={setProduct}\n                product={product}\n              />\n            ) : null}\n            <Row>\n              {product.details.map((elem, index) => {\n                const { color, size, quantity } = elem;\n                return (\n                  <Col xs={6} className=\"text-center\" key={uniqid()}>\n                    <ProductInfoUpdate\n                      price={product.price}\n                      color={color}\n                      size={size}\n                      quantity={quantity}\n                      id={productId}\n                      index={index}\n                      setProduct={setProduct}\n                      product={product}\n                    />\n                  </Col>\n                );\n              })}\n            </Row>\n          </Col>\n          <Col xs={6} className=\"mx-auto text-center\">\n            <Row>\n              {product.images.map((image, index) => {\n                return (\n                  <Col xs={6} className=\"mx-auto\" key={uniqid()}>\n                    <img className=\"w-100 h-75 p-2 \" src={image.url} alt=\"\" />\n                    {isLoading ? (\n                      <div className=\"spinner-grow\" role=\"status\"></div>\n                    ) : (\n                      <Button\n                        className=\"bg-danger\"\n                        onClick={async () => {\n                          setIsLoading(true);\n                          const updatedProduct = await deleteProductImage(\n                            index,\n                            productId\n                          );\n                          setProduct(updatedProduct);\n                          setIsLoading(false);\n                        }}\n                      >\n                        Delete\n                      </Button>\n                    )}\n                  </Col>\n                );\n              })}\n            </Row>\n            {product.images.length === 5 ? null : (\n              <Button className=\"bg-primary mb-2\" onClick={toggleForm}>\n                {showImageForm ? \"hide\" : \"Add product image\"}\n              </Button>\n            )}\n            {showImageForm ? (\n              <AddProductImage\n                product={product}\n                setProduct={setProduct}\n                id={productId}\n                hideForm={toggleForm}\n              />\n            ) : null}\n          </Col>\n        </Row>\n        {productDeleted ? <Redirect to=\"/#/admin-productos\" /> : null}\n      </div>\n    ) : (\n      <p>loading</p>\n    )\n  ) : (\n    <div className=\"text-center mt-5\">\n      <h5>Product not found</h5>\n      <p>Redirecting in: {countDown}</p>\n      {countDownOver ? (\n        <Redirect to=\"/#/ecommerce-client/admin-productos\" />\n      ) : null}\n    </div>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const ColorSquares = styled.div`\n  background-color: ${(props) => props.color};\n  width: ${(props) => props.width};\n  height: ${(props) => props.height};\n`;\n","import { Link } from \"react-router-dom\";\n\nexport const GoBackArrow = (props) => {\n  return (\n    <Link to={props.route}>\n      <i style={{ fontSize: \"50px\" }} className=\"fas fa-angle-double-left\"></i>\n    </Link>\n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { productDetail, addToCart } from \"../API/API\";\nimport { Col, Row, Button } from \"reactstrap\";\nimport { userContext } from \"../Context/Contexts\";\nimport { SingleProduct } from \"./Admin/SingleProduct/SingleProduct\";\nimport { ColorSquares } from \"./Styled/ColorSquares\";\nimport { GoBackArrow } from \"./Styled/GoBackArrow\";\nimport { Redirect } from \"react-router\";\n\n// SHOWS THE PRODUCT PAGE WITH ALL THE INFO\n\nexport const ProductDetail = (props) => {\n  const [productId, setProductId] = useState(\"\");\n  const [product, setProduct] = useState({});\n  const [sizes, setSizes] = useState([]);\n  const [colors, setColors] = useState([]);\n  const [selectedSize, setSelectedSize] = useState();\n  const [selectedColor, setSelectedColor] = useState();\n  const [loading, setLoading] = useState(false);\n  const [addedToCart, setAddedToCart] = useState(false);\n\n  const { user, setUser } = useContext(userContext);\n\n  // GET THE ID FROM URL\n  useEffect(() => {\n    const url = window.location.href;\n    const id = url.split(\"?\")[1];\n    setProductId(id);\n    return () => setProductId(\"\");\n  }, []);\n\n  // FETCH THE PRODUCT\n  useEffect(() => {\n    if (productId) {\n      (async () => {\n        const token = \"Bearer \" + localStorage.getItem(\"token\");\n\n        setProduct(await productDetail(productId, token));\n      })();\n    }\n  }, [productId]);\n\n  // GET THE UNIQUE SIZES\n  useEffect(() => {\n    if (product.details) {\n      const { details } = product;\n      let availableSizes = {};\n      details.forEach((elem) => {\n        if (!availableSizes[elem.size]) {\n          availableSizes[elem.size] = 1;\n        }\n      });\n      for (let key in availableSizes) {\n        setSizes((old) => [...old, key]);\n      }\n    }\n  }, [product]);\n\n  // FIND THE COLORS OF THE SELECTED SIZE\n  const showColorsBySize = (size) => {\n    const { details } = product;\n    let colorsBySize = {};\n    let colors = [];\n    details.forEach((elem) => {\n      if (!colorsBySize[elem.color] && elem.size === size) {\n        colorsBySize[elem.color] = 1;\n      }\n    });\n    for (let key in colorsBySize) {\n      colors.push(key);\n    }\n    setColors(colors);\n  };\n\n  // SELECT SIZE\n  const selectSize = (elem) => {\n    setSelectedSize(elem);\n    showColorsBySize(elem);\n  };\n\n  const resetState = () => {\n    setSelectedColor(\"\");\n    setSelectedSize(\"\");\n    setAddedToCart(false);\n  };\n\n  const productAdded = () => {\n    setAddedToCart(true);\n    setTimeout(() => {\n      resetState();\n    }, 2000);\n  };\n\n  return user ? (\n    user.admin ? (\n      <SingleProduct />\n    ) : product.details ? (\n      <div className=\"container bg-light mt-5\">\n        <GoBackArrow route={\"/ecommerce-client/products\"} />\n\n        <Row>\n          <Col xs={6} className=\" text-center\">\n            <h1>{product.name}</h1>\n            <p>{product.description}</p>\n            <hr />\n            <Row>\n              <p>Available sizes</p>\n              <div className=\"size-container\">\n                {sizes.map((size, index) => {\n                  return (\n                    <div\n                      id={size}\n                      key={index}\n                      onClick={() => {\n                        selectSize(size);\n                      }}\n                      className={selectedSize === size ? \"selected\" : null}\n                    >\n                      {size}\n                    </div>\n                  );\n                })}\n              </div>\n              {selectedSize ? (\n                <div className=\"color-container mt-4\">\n                  <div>\n                    <p>Select a color</p>\n                  </div>\n                  <div>\n                    {colors.map((color, index) => {\n                      return (\n                        <ColorSquares\n                          color={color}\n                          height={\"30px\"}\n                          width={\"30px\"}\n                          key={index}\n                          onClick={() => setSelectedColor(color)}\n                          className={\n                            selectedColor === color ? \"selected\" : \"color\"\n                          }\n                        ></ColorSquares>\n                      );\n                    })}\n                  </div>\n                </div>\n              ) : (\n                <p> Select a size to see the available colors</p>\n              )}\n              {loading ? (\n                <div className=\"spinner-grow mx-auto\"></div>\n              ) : (\n                selectedColor &&\n                selectSize && (\n                  <div>\n                    {addedToCart ? (\n                      <p className=\"mt-2\">Product added to cart</p>\n                    ) : (\n                      <Button\n                        className=\"bg-primary my-4\"\n                        onClick={async () => {\n                          setLoading(true);\n                          const newCart = await addToCart(\n                            props.id,\n                            productId,\n                            selectedSize,\n                            selectedColor,\n                            1\n                          );\n                          setUser(newCart);\n                          setLoading(false);\n                          productAdded();\n                        }}\n                      >\n                        Add to cart\n                      </Button>\n                    )}\n                  </div>\n                )\n              )}\n            </Row>\n          </Col>\n          <Col xs={6}>\n            <Row>\n              {product.images.map((image, index) => {\n                return (\n                  <Col xs={6} className=\"mx-auto\" key={index}>\n                    <img className=\"w-100 h-75 p-2\" src={image.url} alt=\"\" />\n                  </Col>\n                );\n              })}\n            </Row>\n          </Col>\n        </Row>\n      </div>\n    ) : (\n      <div className=\"d-flex justify-content-center mt-5\">\n        <div className=\"spinner-grow mx-auto\"></div>\n      </div>\n    )\n  ) : (\n    <Redirect to=\"/ecommerce-client/\" />\n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Button, Breadcrumb, BreadcrumbItem, Col, Row } from \"reactstrap\";\nimport { getCategories, getProductByCat } from \"../../API/API\";\nimport { ProductCard } from \"../../Components/ProductCard\";\nimport { userContext } from \"../../Context/Contexts\";\n\n// DISPLAY ALL THE CATEGORIES ON A BAR\n\nexport const AdminCategory = () => {\n  const [categories, setCategories] = useState();\n  const [active, setActive] = useState(0);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { user, setUser } = useContext(userContext);\n\n  // GET ALL CATEGORIES ON LOAD\n  useEffect(() => {\n    (async () => {\n      setCategories(await getCategories());\n    })();\n  }, []);\n\n  // GET SPECIFIC CATEOGRY ITEMS ON CLICK\n  const getProducts = async (name, index) => {\n    setLoading(true);\n    setProducts(await getProductByCat(name));\n    setLoading(false);\n    setActive(index);\n  };\n\n  // GET THE FIRST CATEGORY\n  useEffect(() => {\n    setLoading(true);\n    if (categories) {\n      (async () => {\n        setProducts(await getProductByCat(categories[0]._id));\n        setLoading(false);\n      })();\n    }\n  }, [categories]);\n\n  return !user ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <div className=\"container text-center \">\n      <p className=\"mt-2\">\n        Select a category to find all the products of that category\n      </p>\n      {categories ? (\n        <Breadcrumb>\n          {categories.map((cat, index) => {\n            return (\n              <BreadcrumbItem\n                onClick={() => getProducts(cat._id, index)}\n                className={\n                  active === index ? \"active\" : \"text-primary cursorPointer\"\n                }\n                id={index}\n                key={cat._id}\n              >\n                {cat.name}\n              </BreadcrumbItem>\n            );\n          })}\n        </Breadcrumb>\n      ) : (\n        <div className=\"spinner-grow\"></div>\n      )}\n      {loading ? (\n        <div className=\"spinner-grow\"></div>\n      ) : products ? (\n        <Row>\n          {products.map((pro) => {\n            return (\n              <Col xs={3} key={pro.name} className=\"mx-auto\">\n                <ProductCard\n                  name={pro.name}\n                  images={pro.images}\n                  price={pro.price.toLocaleString()}\n                />\n              </Col>\n            );\n          })}\n        </Row>\n      ) : (\n        <div className=\"spinner-grow\"></div>\n      )}\n    </div>\n  );\n};\n","import { Col, Row } from \"reactstrap\";\nimport { ColorSquares } from \"./Styled/ColorSquares\";\nimport { useState, useEffect } from \"react\";\nimport { updateUserCart } from \"../API/API\";\n\n// DISPLAY EACH ITEM IN THE CART\n\nexport const CartItem = (props) => {\n  const { product, index, cartItems, id, setUser, setCartItems } = props;\n  const [quantity, setQuantity] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    product.quantity && setQuantity(product.quantity);\n    return () => setQuantity(\"\");\n  }, []);\n\n  const increment = async () => {\n    setLoading(true);\n    setQuantity(quantity + 1);\n    let cart = [...cartItems];\n    cart[index].quantity += 1;\n    setCartItems(cart);\n    await updateUserCart(id, cart);\n\n    setLoading(false);\n  };\n\n  const decrement = async () => {\n    setLoading(true);\n    if (quantity === 1) {\n      alert(\"Item cant have 0 quantity, either remove it. or leave at least 1\");\n      return;\n    }\n    setQuantity(quantity - 1);\n    let cart = [...cartItems];\n    cart[index].quantity -= 1;\n    setCartItems(cart);\n    await updateUserCart(id, cart);\n    setLoading(false);\n  };\n\n  // REMOVE ITEM FROM CART\n  const removeItem = async () => {\n    setLoading(true);\n    let cart = [...cartItems];\n    cart.splice(index, 1);\n    setCartItems(cart);\n    const updatedUser = await updateUserCart(id, cart);\n    setUser(updatedUser);\n    setLoading(false);\n  };\n\n  return (\n    <Col xs={5} md={3} className=\" cart-container\">\n      <h5 className=\"text-center\">{product.name}</h5>\n      <img src={product.image} className=\"cart-img\" alt=\"\" />\n      <div className=\"\">\n        <Row>\n          <Col className=\"cart-card\">\n            <p>Size: {product.size}</p>\n            <ColorSquares\n              color={product.color}\n              height={\"15px\"}\n              width={\"15px\"}\n            ></ColorSquares>\n          </Col>\n        </Row>\n        <Row className=\"mb-2\">\n          {loading ? (\n            <div className=\"spinner-grow mx-auto\"></div>\n          ) : (\n            <Col className=\"cart-card\">\n              <i className=\"fas fa-minus cursorPointer\" onClick={decrement}></i>\n              <p>{quantity}</p>\n              <i className=\"fas fa-plus cursorPointer\" onClick={increment}></i>\n            </Col>\n          )}\n        </Row>\n      </div>\n      <p className=\"text-center\">\n        Total: ${(product.price * product.quantity).toLocaleString()}\n      </p>\n      <div className=\"text-center cart-button-del\">\n        <i\n          className=\"fas fa-times cursorPointer text-danger\"\n          onClick={removeItem}\n        ></i>\n      </div>\n    </Col>\n  );\n};\n","import { Row } from \"reactstrap\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { userContext } from \"../Context/Contexts\";\nimport { CartItem } from \"./CartItem\";\nimport { checkStock, updatePurchases, newTransaction } from \"../API/API\";\nimport { GoBackArrow } from \"./Styled/GoBackArrow\";\nimport { Redirect } from \"react-router\";\n\n// DISPLAY THE CART PAGE\nexport const Cart = () => {\n  const [cartItems, setCartItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  const { user, setUser } = useContext(userContext);\n\n  useEffect(() => {\n    user && setCartItems(user.cart);\n  }, [user]);\n\n  useEffect(() => {\n    let sum = 0;\n    cartItems &&\n      cartItems.forEach((item) => {\n        sum += item.price * item.quantity;\n      });\n    setTotal(sum);\n  }, [cartItems]);\n\n  const checkoutButton = async (userId) => {\n    setLoading(true);\n    const response = await checkStock(userId);\n    if (response.status === 200) {\n      const { date_created, id, items, init_point } = response.data;\n      await newTransaction(user._id, id, \"pending\", items, date_created);\n      window.location.replace(init_point);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n\n  return user ? (\n    <div className=\"container\">\n      <GoBackArrow route={\"/ecommerce-client/\"} />\n      <Row>\n        {cartItems &&\n          cartItems.map((product, index) => {\n            return (\n              <CartItem\n                product={product}\n                key={index}\n                cartItems={cartItems}\n                setCartItems={setCartItems}\n                index={index}\n                id={user._id}\n                setUser={setUser}\n              />\n            );\n          })}\n      </Row>\n      {cartItems && cartItems.length ? (\n        <div className=\"text-center\">\n          {loading ? (\n            <div className=\"spinner-grow\"></div>\n          ) : (\n            <button\n              className=\"btn btn-primary\"\n              onClick={() => checkoutButton(user._id)}\n            >\n              Checkout\n            </button>\n          )}\n          <div className=\"text-center bg-dark text-light w-75 mx-auto\">\n            <p className=\"mt-3\">Total: ${total.toLocaleString()}</p>\n          </div>\n        </div>\n      ) : (\n        <div className=\"text-center bg-dark text-light w-75 mx-auto\">\n          <p className=\"mt-3\">Cart is empty</p>\n        </div>\n      )}\n    </div>\n  ) : (\n    <Redirect to=\"/\" />\n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { updateTransactionStatus, updateUserCart } from \"../../API/API\";\nimport { Redirect } from \"react-router\";\nimport { userContext } from \"../../Context/Contexts\";\n\nexport const PurchaseSuccess = () => {\n  const [success, setSuccess] = useState(false);\n  const [preferenceId, setPreferenceId] = useState(\"\");\n  const { user, setUser } = useContext(userContext);\n\n  // UPDATE THE TRANSACTION TO APPROVED STATUS\n  const compareCollectionsId = async () => {\n    const url = window.location.href;\n    if (url.split(\"?\")[1]) {\n      const params = url.split(\"?\")[1].split(\"&\");\n      const id = params[7].split(\"=\")[1];\n      setPreferenceId(id);\n      await updateTransactionStatus(id, \"approved\");\n      const cart = [];\n      const newCart = await updateUserCart(user._id, cart);\n      setUser(newCart);\n      window.history.replaceState(null, null, url.split(\"?\")[0]);\n      setSuccess(true);\n    }\n  };\n\n  useEffect(() => {\n    user && compareCollectionsId();\n  }, [user]);\n\n  return success ? (\n    <Redirect to={\"/ecommerce-client/transactiondetail?\" + preferenceId} />\n  ) : null;\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { userContext } from \"../../Context/Contexts\";\nimport { Table } from \"reactstrap\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { GoBackArrow } from \"../Styled/GoBackArrow\";\nimport { userTransactions } from \"../../API/API\";\n\n// DISPLAY THE CURRENT USER TRANSACTIONS\n\nexport const TransactionList = () => {\n  const { user } = useContext(userContext);\n  const [purchases, setPurchases] = useState([]);\n\n  const getUserTransactions = async () => {\n    const transactions = await userTransactions(user._id);\n    setPurchases(transactions);\n  };\n\n  useEffect(() => {\n    if (user) {\n      getUserTransactions();\n    }\n  }, [user]);\n\n  return !user ? null : purchases ? (\n    <div className=\"container text-center\">\n      <h3 className=\"text-center mt-3\"> Transaction List</h3>\n      <Table className=\" mx-auto\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Date</th>\n            <th>Product</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        {purchases.map((elem, index) => {\n          const { date, product, status, transaction_id } = elem;\n          return (\n            <tbody key={index}>\n              <tr>\n                <th\n                  scope=\"row\"\n                  width=\"25%\"\n                  id={index}\n                  className=\"cursorPointer\"\n                >\n                  <Link\n                    to={\n                      \"/ecommerce-client/transactiondetail/?\" + transaction_id\n                    }\n                  >\n                    Id: {transaction_id}\n                  </Link>\n                </th>\n                <td width=\"25%\">{new Date(date).toLocaleDateString()}</td>\n                {product.length > 1 ? (\n                  <td width=\"25%\" className=\"multiple-items\">\n                    {product.map((elem) => {\n                      return elem.title + \" \";\n                    })}\n                  </td>\n                ) : (\n                  <td width=\"25%\">{product[0].title}</td>\n                )}\n                <td width=\"25%\">Status: {status}</td>\n              </tr>\n            </tbody>\n          );\n        })}\n      </Table>\n      <GoBackArrow route={\"/ecommerce-client/\"} />\n    </div>\n  ) : (\n    <div className=\"mt-5 text-center\">\n      <p className=\"spinner-grow\">hola</p>\n    </div>\n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { purchaseDetail, getTransaction } from \"../../API/API\";\nimport { userContext } from \"../../Context/Contexts\";\nimport { GoBackArrow } from \"../Styled/GoBackArrow\";\n\n// GET THE SPECIFIED TRANSACTION DETAILS\nexport const TransactionDetail = () => {\n  const { user } = useContext(userContext);\n  const [detail, setDetail] = useState();\n  const [total, setTotal] = useState(\"\");\n\n  const getDetail = async () => {\n    let url = window.location.href;\n    let id = url.split(\"?\")[1];\n    const transaction = await getTransaction(id);\n    if (transaction) {\n      setDetail(transaction);\n    }\n  };\n\n  useEffect(() => {\n    getDetail();\n  }, [user]);\n\n  useEffect(() => {\n    let totalPrice = 0;\n    detail &&\n      detail.product.forEach((elem) => {\n        totalPrice += elem.quantity * elem.unit_price;\n      });\n    setTotal(totalPrice);\n  }, [detail]);\n\n  return !user ? null : detail ? (\n    <div className=\"container\">\n      <h3>Transaction ID: {detail.transaction_id}</h3>\n      <p>Date of transaction: {new Date(detail.date).toLocaleDateString()} </p>\n      <p>Status: {detail.status}</p>\n      <h5 className=\"text-center\">Items purchased</h5>\n      <table className=\"table text-center\">\n        <thead>\n          <tr>\n            <th>Item</th>\n            <th>Unit price</th>\n            <th>quantity</th>\n          </tr>\n        </thead>\n        {detail.product.map((elem, index) => {\n          return (\n            <tbody key={index}>\n              <tr>\n                <td>{elem.title}</td>\n                <td>{elem.unit_price.toLocaleString()}</td>\n                <td>{elem.quantity}</td>\n              </tr>\n            </tbody>\n          );\n        })}\n      </table>\n      <h5 className=\"text-center\">Total: {total.toLocaleString()}</h5>\n      <GoBackArrow route={\"/ecommerce-client/transactions\"} />\n    </div>\n  ) : (\n    <div className=\"mt-5 text-center\">\n      <p className=\"spinner-grow\">hola</p>\n    </div>\n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Breadcrumb, BreadcrumbItem, Col, Row } from \"reactstrap\";\nimport { getCategories, getProductByCat } from \"../API/API\";\nimport { ProductCard } from \"./ProductCard\";\nimport { userContext } from \"../Context/Contexts\";\nimport { GoBackArrow } from \"./Styled/GoBackArrow\";\n\n// DISPLAY ALL THE CATEGORIES ON A BAR\n\nexport const Categories = () => {\n  const [categories, setCategories] = useState();\n  const [active, setActive] = useState(0);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { user } = useContext(userContext);\n\n  // GET ALL CATEGORIES ON LOAD\n  useEffect(() => {\n    (async () => {\n      setCategories(await getCategories());\n    })();\n    return () => setCategories();\n  }, []);\n\n  // GET SPECIFIC CATEOGRY ITEMS ON CLICK\n  const getProducts = async (name, index) => {\n    setLoading(true);\n    setProducts(await getProductByCat(name));\n    setLoading(false);\n    setActive(index);\n    return () => setProducts([]);\n  };\n\n  // GET THE FIRST CATEGORY\n  useEffect(() => {\n    setLoading(true);\n    if (categories) {\n      (async () => {\n        setProducts(await getProductByCat(categories[0]._id));\n        setLoading(false);\n      })();\n      return () => setProducts([]);\n    }\n  }, [categories]);\n\n  return !user ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <div className=\"container text-center \">\n      <p className=\"mt-2\">\n        Select a category to find all the products of that category\n      </p>\n      {categories ? (\n        <Breadcrumb>\n          {categories.map((cat, index) => {\n            return (\n              <BreadcrumbItem\n                onClick={() => getProducts(cat._id, index)}\n                className={\n                  active === index ? \"active\" : \"text-primary cursorPointer\"\n                }\n                id={index}\n                key={cat._id}\n              >\n                {cat.name}\n              </BreadcrumbItem>\n            );\n          })}\n        </Breadcrumb>\n      ) : (\n        <div className=\"spinner-grow\"></div>\n      )}\n      {loading ? (\n        <div className=\"spinner-grow\"></div>\n      ) : products ? (\n        !products.length ? (\n          <p> No Products found</p>\n        ) : (\n          <Row>\n            {products.map((pro) => {\n              return (\n                <Col xs={3} key={pro.name} className=\"mx-auto\">\n                  <ProductCard\n                    name={pro.name}\n                    images={pro.images}\n                    price={pro.price}\n                    id={pro._id}\n                  />\n                </Col>\n              );\n            })}\n          </Row>\n        )\n      ) : (\n        <div className=\"spinner-grow\"></div>\n      )}\n      <GoBackArrow route=\"/ecommerce-client/\" />\n    </div>\n  );\n};\n","import { useState, useEffect } from \"react\";\nimport { allTransactions } from \"../../API/API\";\nimport { Table } from \"reactstrap\";\n\nexport const AdminTransactions = (props) => {\n  const [transactions, setTransactions] = useState([]);\n\n  const getAllTransactions = async () => {\n    const data = await allTransactions();\n    setTransactions(data);\n  };\n\n  useEffect(() => {\n    getAllTransactions();\n    return () => setTransactions([]);\n  }, []);\n\n  return (\n    <div className=\"container text-center\">\n      <h3 className=\"text-center my-5\">Transaction List</h3>\n      <Table>\n        <thead>\n          <tr>\n            <th width=\"25%\">ID</th>\n            <th width=\"25%\">User</th>\n            <th width=\"25%\">Date</th>\n            <th width=\"25%\">Products</th>\n            <th width=\"25%\">Status</th>\n          </tr>\n        </thead>\n        {transactions.length &&\n          transactions.map((elem, index) => {\n            const { transaction_id, user, date, product, status } = elem;\n            return (\n              <tbody key={index} id={transaction_id}>\n                <tr>\n                  <td>{transaction_id}</td>\n                  <td>{user.username}</td>\n                  <td>{new Date(date).toLocaleDateString()}</td>\n                  {product.length > 1 ? (\n                    <td width=\"25%\" className=\"multiple-items\">\n                      {product.map((elem) => {\n                        return elem.title + \" \";\n                      })}\n                    </td>\n                  ) : (\n                    <td width=\"25%\">{product[0].title}</td>\n                  )}\n                  <td>{status}</td>\n                </tr>\n              </tbody>\n            );\n          })}\n      </Table>\n    </div>\n  );\n};\n","// TODO DO FAILURE PAGE\nimport { useState, useEffect, useContext } from \"react\";\nimport { userContext } from \"../../Context/Contexts\";\nimport { updateTransactionStatus } from \"../../API/API\";\nimport { Redirect } from \"react-router\";\n\nexport const PurchaseFailure = (props) => {\n  const [success, setSuccess] = useState(false);\n  const [preferenceId, setPreferenceId] = useState(\"\");\n  const { user } = useContext(userContext);\n\n  // UPDATE THE TRANSACTION TO APPROVED STATUS\n  const compareCollectionsId = async () => {\n    const url = window.location.href;\n    if (url.split(\"?\")[1]) {\n      const params = url.split(\"?\")[1].split(\"&\");\n      const id = params[7].split(\"=\")[1];\n      setPreferenceId(id);\n      await updateTransactionStatus(id, \"canceled\");\n      window.history.replaceState(null, null, url.split(\"?\")[0]);\n      setSuccess(true);\n    }\n  };\n\n  useEffect(() => {\n    user && compareCollectionsId();\n  }, [user]);\n\n  return success ? (\n    <Redirect to={\"/ecommerce-client/transactiondetail?\" + preferenceId} />\n  ) : null;\n};\n","import Home from \"./Components/Home\";\nimport { NavBar } from \"./Components/Navbar\";\nimport { useState, useEffect } from \"react\";\nimport { userContext } from \"./Context/Contexts\";\nimport { userData, checkForToken } from \"./API/API\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport { Token } from \"./Components/Token\";\nimport { LoginScreen } from \"./Components/LoginScreen\";\nimport { NewAccount } from \"./Components/NewAccount\";\nimport { AdminHome } from \"./Components/Admin/AdminHome\";\nimport { ProductDetail } from \"./Components/ProductDetail\";\nimport { AdminCategory } from \"./Components/Admin/AdminCategory\";\nimport { Cart } from \"./Components/Cart\";\nimport { PurchaseSuccess } from \"./Components/Transactions/PurchaseSuccess\";\nimport { TransactionList } from \"./Components/Transactions/TransactionList\";\nimport { TransactionDetail } from \"./Components/Transactions/TransactionDetail\";\nimport { Categories } from \"./Components/Categories\";\nimport { AdminTransactions } from \"./Components/Admin/AdminTransactions\";\nimport { PurchaseFailure } from \"./Components/Transactions/PurchaseFailure\";\n\n// TODO DEV BRANCH\n\nfunction App() {\n  const [user, setUser] = useState();\n\n  useEffect(() => {\n    (async () => {\n      const token = checkForToken();\n      if (token) setUser(await userData(token));\n      else setUser(null);\n    })();\n  }, []);\n\n  return (\n    <HashRouter>\n      <userContext.Provider value={{ user, setUser }}>\n        <NavBar />\n        <Switch>\n          <Route path=\"/logged\" component={Token} />\n          <Route path=\"/ecommerce-clien/login\" component={LoginScreen} />\n          <Route path=\"/newaccount\" component={NewAccount} />\n          <Route path=\"/admin-productos\" component={AdminHome} />\n          <Route path=\"/admin-categorias\" component={AdminCategory} />\n          <Route path=\"/cart\" component={Cart} />\n          <Route path=\"/purchasesuccess\" component={PurchaseSuccess} />\n          <Route path=\"/transactions\" component={TransactionList} />\n          <Route path=\"/transactiondetail\" component={TransactionDetail} />\n          <Route path=\"/categories\" component={Categories} />\n          <Route path=\"/admin-transactions\" component={AdminTransactions} />\n          <Route path=\"/purchasefailure\" component={PurchaseFailure} />\n          {user && (\n            <Route\n              path=\"/product\"\n              render={(props) => <ProductDetail id={user._id} {...props} />}\n            />\n          )}\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </userContext.Provider>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./Styles/styles.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}