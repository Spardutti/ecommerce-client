(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{169:function(e,t){},171:function(e,t){},184:function(e,t){},186:function(e,t){},214:function(e,t){},216:function(e,t){},217:function(e,t){},222:function(e,t){},224:function(e,t){},230:function(e,t){},232:function(e,t){},251:function(e,t){},263:function(e,t){},266:function(e,t){},298:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){"use strict";n.r(t);var c,r,a,s=n(1),i=n(55),u=n.n(i),o=n(158),j=n(3),l=n.n(j),d=n(5),b=n(4),O=n(151),p=n(152),x=n.n(p),h="https://ecommercedemosite.herokuapp.com",f={Authorization:c,"Content-Type":"application/json"},m=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r._id,e.next=4,fetch(h+"/user/"+t);case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/logout");case 2:localStorage.clear();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/login",{method:"POST",headers:f,body:JSON.stringify({email:t,password:n})});case 2:return c=e.sent,e.next=5,c.json();case 5:return r=e.sent,200===c.status&&localStorage.setItem("token",r.token),e.abrupt("return",{data:r,status:c.status});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(l.a.mark((function e(t,n,c,r){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/user/new",{method:"POST",headers:f,body:JSON.stringify({email:t,username:n,password:c,confirm:r})});case 2:return a=e.sent,e.next=5,a.json();case 5:return s=e.sent,e.abrupt("return",{response:a,data:s});case 7:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/products");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(l.a.mark((function e(t,n,c,r,a,s,i,u){var o,j,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("name",t),o.append("price",c),o.append("category",n),o.append("color",r),o.append("size",a),o.append("quantity",s),o.append("image",i),o.append("description",u),e.prev=9,e.next=12,fetch(h+"/product/new",{method:"POST",body:o});case 12:return j=e.sent,e.next=15,j.json();case 15:return d=e.sent,e.abrupt("return",{status:j.status,data:d});case 19:return e.prev=19,e.t0=e.catch(9),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t,n,c,r,a,s,i,u){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/product/"+t,{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/product/"+t,{method:"DELETE",headers:f});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/product/description/"+t,{method:"PUT",headers:f,body:JSON.stringify({description:n})});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(l.a.mark((function e(t,n,c,r,a){var s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/product/update/"+t,{method:"PUT",headers:f,body:JSON.stringify({size:n,quantity:c,color:r,description:a})});case 3:return s=e.sent,e.next=6,s.json();case 6:return i=e.sent,e.abrupt("return",{status:s.status,data:i});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,c,r,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r,a,s,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new FormData,r=Object(O.a)(n);try{for(r.s();!(a=r.n()).done;)s=a.value,c.append("image",s)}catch(o){r.e(o)}finally{r.f()}return e.prev=3,e.next=6,fetch(h+"/product/image/"+t,{method:"PUT",body:c});case 6:return i=e.sent,e.next=9,i.json();case 9:return u=e.sent,e.abrupt("return",u);case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/product/delete/image/"+n,{method:"DELETE",headers:f,body:JSON.stringify({imageToDeleteIndex:t})});case 3:return c=e.sent,e.next=6,c.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/product/details/"+t,{method:"DELETE",headers:f,body:JSON.stringify({index:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(l.a.mark((function e(t,n,c,r,a){var s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/product/cart/"+t,{method:"PUT",headers:f,body:JSON.stringify({id:n,size:c,color:r,quantity:a})});case 2:return s=e.sent,e.next=5,s.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c,r,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/user/product/cart/"+t,{method:"PUT",headers:f,body:JSON.stringify({cart:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/checkout/"+t,{method:"POST",headers:f});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",{data:c,status:n.status});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(l.a.mark((function e(t,n,c,r,a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/transaction/new",{method:"POST",headers:f,body:JSON.stringify({userId:t,transaction_id:n,status:c,items:r,date:a})});case 3:return s=e.sent,e.next=6,s.json();case 6:e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,c,r,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/transaction/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/transactions/user/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/transaction/update",{method:"PUT",headers:f,body:JSON.stringify({id:t,status:n})});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/transactions/all",{method:"GET",headers:f});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/categories");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/category/product",{method:"POST",headers:f,body:JSON.stringify({category:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(h+"/category/new",{method:"POST",headers:f,body:JSON.stringify({name:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),$=n(17),B=n(303),R=n(304),Q=n(305),V=n(306),K=n(307),M=n(0),W=function(e){var t=Object(s.useState)([]),n=Object(b.a)(t,2)[1],c=Object(s.useState)([]),r=Object(b.a)(c,2)[1],a=e.id,i=e.name,u=e.price,o=e.images,j=e.size,l=e.color;return Object(s.useEffect)((function(){var e=[],t=[];j&&l&&(-1===e.indexOf(j)&&e.push(j),-1===t.indexOf(l)&&t.push(l),r(e),n(t))}),[]),Object(M.jsx)("div",{children:Object(M.jsx)($.b,{to:"/product?"+a,id:a,style:{textDecoration:"none"},className:"text-dark",children:Object(M.jsx)(B.a,{className:"w-75 mx-auto text-center",children:Object(M.jsxs)(R.a,{children:[Object(M.jsx)(Q.a,{tag:"h5",children:i}),Object(M.jsxs)(V.a,{tag:"h6",className:"mb-2 text-muted",children:["$ ",u]}),Object(M.jsx)(K.a,{top:!0,width:"auto",src:o.length?o[0].url:null,alt:"Product image",style:{height:"150px"}})]})})})})},X=n(25),Y=n.n(X),Z=n(309),ee=n(310),te=Object(s.createContext)({}),ne=n(12),ce=n(308),re=function(e){var t=e.products,n=Object(s.useState)(""),c=Object(b.a)(n,2),r=c[0],a=c[1],i=Object(s.useState)([]),u=Object(b.a)(i,2),o=u[0],j=u[1],l=Object(s.useState)(""),d=Object(b.a)(l,2),O=d[0],p=d[1],x=Object(s.useState)(!1),h=Object(b.a)(x,2),f=h[0],m=h[1];return Object(M.jsxs)("div",{children:[f&&Object(M.jsx)(ne.a,{to:"/product/?"+O}),Object(M.jsxs)("div",{className:" mx-auto search mt-5",children:[Object(M.jsx)(ce.a,{onChange:function(e){var n=[];e.target.value.length&&(n=t.filter((function(t){var n=new RegExp("".concat(e.target.value),"gi");return t.name.match(n)}))),j(n),a(e.target.value)},value:r}),Object(M.jsx)("i",{onClick:function(){return m(!0)},className:"fas fa-search searchIcon text-center"})]}),o&&o.map((function(e,t){return Object(M.jsx)("div",{className:"suggestion mx-auto p-1",onClick:function(){return a((t=e).name),p(t._id),j([]),void m(!0);var t},children:e.name},t)}))]})},ae=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useContext)(te).user;return Object(s.useEffect)((function(){return Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,N();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),function(){c()}}),[]),r?r.admin?Object(M.jsx)(ne.a,{to:"/admin-productos"}):Object(M.jsxs)("div",{children:[Object(M.jsx)(re,{products:n}),Object(M.jsx)(Z.a,{className:"container mx-auto",children:n?n.map((function(e){var t=e.name,n=e._id,c=e.description,r=e.images,a=e.size,s=e.color,i=e.price;return Object(M.jsx)(ee.a,{md:3,className:"mt-5 mx-auto",children:Object(M.jsx)(W,{id:n,name:t,price:i,images:r,description:c,size:a,color:s},Y()())},n)})):null})]}):Object(M.jsxs)("h5",{className:"text-center mt-5",children:["Please"," ",Object(M.jsx)($.b,{to:"/login",className:"text-primary",children:"Log in"})]})},se=n(311),ie=n(312),ue=n(313),oe=n(324),je=n(314),le=n(315),de=n(316),be=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useContext)(te),a=r.user,i=r.setUser,u=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:i(null),window.location.replace("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"px-2 container",children:[Object(M.jsxs)(se.a,{color:"light",light:!0,expand:"md",children:[Object(M.jsx)(ie.a,{href:"/#/admin-productos",children:a.username}),Object(M.jsx)(ue.a,{onClick:function(){return c(!n)}}),Object(M.jsx)(oe.a,{isOpen:n,navbar:!0,children:Object(M.jsxs)(je.a,{className:"mr-auto",navbar:!0,children:[Object(M.jsx)(le.a,{children:Object(M.jsx)(de.a,{href:"/#/admin-transactions",children:"Transactions"})}),Object(M.jsx)(le.a,{children:Object(M.jsx)(de.a,{href:"/#/admin-categorias",children:"Categories"})}),Object(M.jsx)(le.a,{children:Object(M.jsx)(de.a,{href:"/#/admin-productos",children:"Products"})}),a?Object(M.jsx)(le.a,{children:Object(M.jsx)(de.a,{href:"#",onClick:u,children:"Log out"})}):null]})})]}),Object(M.jsx)("div",{className:"home-title",children:Object(M.jsx)("h1",{children:"Lorem"})})]})},Oe=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useContext)(te),j=o.user,O=o.setUser;Object(s.useEffect)((function(){j&&u(j.cart)}),[j]);var p=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:O(null),u(null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"px-lg-2 container",children:[j?Object(M.jsx)("div",{children:Object(M.jsxs)(se.a,{color:"light",light:!0,expand:"lg",children:[Object(M.jsx)(ie.a,{className:"px-1",href:"/",children:"Logo"}),Object(M.jsx)(ue.a,{onClick:function(){return c(!n)}}),Object(M.jsx)(oe.a,{isOpen:n,navbar:!0,children:Object(M.jsxs)(je.a,{className:"d-flex w-100",navbar:!0,children:[Object(M.jsx)(le.a,{children:Object(M.jsx)(de.a,{href:"/#/",children:"Products"})}),Object(M.jsx)(le.a,{children:Object(M.jsx)(de.a,{href:"/#/transactions/",children:"Transactions"})}),Object(M.jsx)(le.a,{children:Object(M.jsx)(de.a,{href:"/#/categories",children:"Categories"})}),Object(M.jsx)(le.a,{children:Object(M.jsxs)(de.a,{className:"cart",href:"/#/cart",children:[Object(M.jsx)("i",{className:"fas fa-shopping-cart"}),i&&i.length?Object(M.jsx)("div",{className:"arrow",children:Object(M.jsx)("p",{children:i.length})}):null]})}),j?Object(M.jsx)(le.a,{}):null,j?Object(M.jsx)(le.a,{children:Object(M.jsx)(de.a,{href:"#",onClick:function(){p()},children:"Log out"})}):null]})}),Object(M.jsxs)("h5",{className:"mx-5 pt-2",children:["Hello, ",j.username]})]})}):Object(M.jsx)(se.a,{children:Object(M.jsx)("a",{href:"/#/login",className:"btn btn-primary",children:"Log in"})}),Object(M.jsx)("div",{className:"home-title",children:Object(M.jsx)("h1",{children:"Lorem"})})]})},pe=function(){var e=Object(s.useContext)(te).user;return e&&e.admin?Object(M.jsx)(be,{}):Object(M.jsx)(Oe,{})},xe=function(e){var t=Object(s.useState)(""),n=Object(b.a)(t,2),c=n[0],r=n[1];return Object(s.useEffect)((function(){var e=window.location.href,t=e.split("?")[1],n=t.split("=")[1];r(t.split("=")[1]),window.history.pushState({},"",e.split("?")[0]),localStorage.setItem("token",n)}),[]),Object(M.jsx)("div",{children:c?Object(M.jsx)(ne.a,{to:"/"}):null})},he=n(317),fe=n(318),me=n(319),ve=n(320),ge=(n(298),function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useState)(!1),j=Object(b.a)(o,2),O=j[0],p=j[1],x=Object(s.useState)(""),h=Object(b.a)(x,2),f=h[0],m=h[1],v=Object(s.useContext)(te).setUser;return Object(M.jsxs)(he.a,{className:"container  mt-4 bg-dark text-light p-4 rounded",children:[Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{for:"email",children:"Email"}),Object(M.jsx)(ce.a,{type:"email",name:"email",placeholder:"Email..",value:n,onChange:function(e){c(e.target.value)}})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{for:"passowrd",children:"Password"}),Object(M.jsx)(ce.a,{type:"password",name:"password",placeholder:"Password..",value:i,onChange:function(e){u(e.target.value)}})]}),f?Object(M.jsx)(fe.a,{className:"text-center pt-1",children:Object(M.jsx)(me.a,{children:f})}):null,Object(M.jsx)(fe.a,{className:"text-center",children:Object(M.jsx)(ve.a,{className:"mt-2 mb-1 bg-primary w-25",onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n,i);case 2:200===(t=e.sent).status&&(p(!0),v(t.data.user)),500===t.status&&m(t.data);case 5:case"end":return e.stop()}}),e)}))),children:"Log in"})}),Object(M.jsx)(fe.a,{className:"d-flex justify-content-center pt-2",children:Object(M.jsxs)("div",{className:"google-btn",children:[Object(M.jsx)("div",{className:"google-icon-wrapper",children:Object(M.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"",className:"google-icon"})}),Object(M.jsx)("a",{href:"http://localhost:5000/user/google/login",className:"btn-text",children:Object(M.jsx)("b",{children:"Log in with google"})})]})}),Object(M.jsx)("hr",{}),Object(M.jsx)(fe.a,{className:"text-center",children:Object(M.jsx)($.b,{to:"/newaccount",className:"btn bg-success",children:"Crear cuenta"})}),O?Object(M.jsx)(ne.a,{to:"/"}):null]})}),we=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useState)(""),j=Object(b.a)(o,2),O=j[0],p=j[1],x=Object(s.useState)(""),h=Object(b.a)(x,2),f=h[0],m=h[1],v=Object(s.useState)([]),g=Object(b.a)(v,2),N=g[0],y=g[1],S=Object(s.useState)(!1),k=Object(b.a)(S,2),C=k[0],E=k[1],P=Object(s.useState)(3),T=Object(b.a)(P,2),z=T[0],_=T[1],D=Object(s.useState)(!1),I=Object(b.a)(D,2),L=I[0],q=I[1];return Object(s.useEffect)((function(){E(!1)}),[]),Object(s.useEffect)((function(){C&&z>0&&setTimeout((function(){_(z-1)}),1e3)}),[C,z]),Object(s.useEffect)((function(){0===z&&q(!0)}),[z]),Object(M.jsxs)(he.a,{className:"container mt-5 text-light p-2 bg-dark rounded",children:[C?Object(M.jsx)(fe.a,{className:"text-center",children:Object(M.jsxs)("div",{className:"p-5",children:[Object(M.jsx)(me.a,{className:"p-5",children:"Account created"}),Object(M.jsx)("br",{}),Object(M.jsxs)(me.a,{children:["Redirecting in ",z]})]})}):Object(M.jsxs)("div",{children:[Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{for:"email",children:"Email"}),Object(M.jsx)(ce.a,{type:"email",name:"email",placeholder:"Enter your email",onChange:function(e){c(e.target.value)},vaue:n})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{for:"username",children:"Usuario"}),Object(M.jsx)(ce.a,{type:"text",name:"username",placeholder:"Enter your username",onChange:function(e){u(e.target.value)},value:i})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{for:"password",children:"Password"}),Object(M.jsx)(ce.a,{type:"password",name:"password",placeholder:"Enter your password",onChange:function(e){p(e.target.value)},value:O})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{for:"confirmPassowrd",children:"Email"}),Object(M.jsx)(ce.a,{type:"password",name:"confirm",placeholder:"Confirm password",onChange:function(e){m(e.target.value)},value:f})]}),N?N.map((function(e){return Object(M.jsx)(fe.a,{className:"text-center",children:Object(M.jsx)(me.a,{children:e.msg})})})):null,Object(M.jsx)(fe.a,{className:"d-flex justify-content-center",children:Object(M.jsx)(ve.a,{className:"btn bg-primary mt-3 w-25",onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n,i,O,f);case 2:500===(t=e.sent).response.status&&y(t.data.errors),200===t.response.status&&E(!0);case 5:case"end":return e.stop()}}),e)}))),children:"Crear"})})]}),L?Object(M.jsx)(ne.a,{to:"/login"}):null]})},Ne=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(0),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useState)(""),j=Object(b.a)(o,2),O=j[0],p=j[1],x=Object(s.useState)(""),h=Object(b.a)(x,2),f=h[0],m=h[1],v=Object(s.useState)(""),g=Object(b.a)(v,2),w=g[0],N=g[1],S=Object(s.useState)(0),k=Object(b.a)(S,2),C=k[0],E=k[1],P=Object(s.useState)([]),T=Object(b.a)(P,2),z=T[0],_=T[1],D=Object(s.useState)(!1),I=Object(b.a)(D,2),L=I[0],q=I[1],U=Object(s.useState)(),J=Object(b.a)(U,2),A=J[0],G=J[1],H=Object(s.useState)(""),$=Object(b.a)(H,2),B=$[0],R=$[1],Q=Object(s.useState)(""),V=Object(b.a)(Q,2),K=V[0],W=V[1],X=Object(s.useState)(""),Z=Object(b.a)(X,2),ee=Z[0],te=Z[1],re=Object(s.useState)(!1),ae=Object(b.a)(re,2),se=ae[0],ie=ae[1],ue=function(){q(!L),oe()},oe=function(){p(""),c(""),u(0),N(""),E(0),m(""),te("")};return Object(s.useEffect)((function(){return Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=_,e.next=3,F();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),function(){return _()}}),[]),z?L?Object(M.jsxs)("div",{className:" mb-2",children:[Object(M.jsx)("div",{className:"text-center",children:Object(M.jsx)(ve.a,{className:"bg-primary",onClick:ue,children:"Hide"})}),Object(M.jsxs)(he.a,{encType:"multipart/form-data",children:[Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Category"}),Object(M.jsxs)(ce.a,{type:"select",name:"category",onChange:function(e){var t=e.target.selectedIndex,n=e.target.options[t];p(n.id)},defaultValue:O,children:[Object(M.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),z.map((function(e){return Object(M.jsx)("option",{id:e._id,children:e.name},e._id)}))]})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Product name"}),Object(M.jsx)(ce.a,{name:"productName",autoComplete:"off",value:n,placeholder:"enter product name",onChange:function(e){c(e.target.value)}})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Product description"}),Object(M.jsx)(ce.a,{name:"description",autoComplete:"off",value:ee,onChange:function(e){te(e.target.value)},placeholder:"brief description"})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Product price"}),Object(M.jsx)(ce.a,{type:"number",name:"productPrice",autoComplete:"off",value:i,onChange:function(e){u(e.target.value)},placeholder:"Enter product price",onFocus:function(){return u("")}})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Product size"}),Object(M.jsx)(ce.a,{name:"size",autoComplete:"off",value:f,placeholder:"enter product size",onChange:function(e){m(e.target.value)}})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Product color"}),Object(M.jsx)(ce.a,{name:"color",autoComplete:"off",value:w,placeholder:"enter product color",onChange:function(e){N(e.target.value)}})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Product stock"}),Object(M.jsx)(ce.a,{type:"number",name:"quantity",autoComplete:"off",value:C,placeholder:"enter product quantity/stock",onChange:function(e){E(e.target.value)},onFocus:function(){return E("")}})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Product picture"}),Object(M.jsx)("div",{children:Object(M.jsx)(ce.a,{type:"file",name:"image",onChange:function(e){W(e.target.files[0])}})})]}),Object(M.jsxs)(fe.a,{className:"text-center mt-3",children:[A?A.map((function(e){return Object(M.jsx)(fe.a,{className:"mb-1",children:Object(M.jsx)(me.a,{children:e.msg})},Y()())})):null,se?Object(M.jsx)("div",{className:"spinner-grow",role:"status"}):Object(M.jsx)(ve.a,{className:"bg-primary",onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.next=3,y(n,O,i,w,f,C,K,ee);case 3:t=e.sent,ie(!1),500===t.status?G(t.data):(oe(),R(t.data._id));case 6:case"end":return e.stop()}}),e)}))),children:"Add product"})]})]}),B?Object(M.jsx)(ne.a,{to:"/product?"+B}):null]}):Object(M.jsx)("div",{className:"text-center mb-2",children:Object(M.jsx)(ve.a,{className:"bg-primary",onClick:ue,children:"Add new product"})}):Object(M.jsx)("p",{children:"loading"})},ye=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),a=Object(b.a)(r,2),i=(a[0],a[1]),u=Object(s.useState)(!1),o=Object(b.a)(u,2),j=o[0],O=o[1],p=Object(s.useState)(!1),x=Object(b.a)(p,2),h=x[0],f=x[1],m=function(){return O(!j)};return Object(s.useEffect)((function(){Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,F();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),j?Object(M.jsxs)("div",{className:"text-center mb-2",children:[Object(M.jsx)(ve.a,{className:"bg-primary",onClick:m,children:"Hide"}),Object(M.jsxs)(he.a,{children:[Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Category name"}),Object(M.jsx)(ce.a,{name:"productCategory",value:n,placeholder:"enter category name",onChange:function(e){c(e.target.value)}})]}),Object(M.jsx)(fe.a,{className:"text-center mt-3",children:h?Object(M.jsx)("div",{className:"spinner-grow"}):Object(M.jsx)(ve.a,{className:"bg-primary",onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,H(n);case 3:f(!1),O(!1);case 5:case"end":return e.stop()}}),e)}))),children:"Add category"})})]})]}):Object(M.jsx)("div",{className:"text-center mb-2",children:Object(M.jsx)(ve.a,{className:"bg-primary",onClick:m,children:"Add new category"})})},Se=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useContext)(te).user;return Object(s.useEffect)((function(){return Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,N();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),function(){return c()}}),[]),r&&r.admin?Object(M.jsxs)(ee.a,{className:"mt-5 mx-auto container",children:[Object(M.jsxs)(Z.a,{children:[Object(M.jsx)(ee.a,{md:6,children:Object(M.jsx)(Ne,{})}),Object(M.jsx)(ee.a,{md:6,children:Object(M.jsx)(ye,{})})]}),Object(M.jsxs)(Z.a,{children:[Object(M.jsx)("div",{className:"text-center",children:Object(M.jsx)(re,{products:n})}),n?n.map((function(e){var t=e.name,n=e._id,c=e.images,r=e.description,a=e.color,s=e.size,i=e.price;return Object(M.jsx)(ee.a,{md:3,className:"mt-2 mx-auto",children:Object(M.jsx)(W,{id:n,name:t,price:i,images:c,description:r,color:a,size:s},Y()())},Y()())})):null]})]}):Object(M.jsx)(ne.a,{to:"/"})},ke=n(28),Ce=function(e){var t=Object(s.useState)(!1),n=Object(b.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(e.quantity),i=Object(b.a)(a,2),u=i[0],o=i[1];return c?Object(M.jsxs)(he.a,{children:[Object(M.jsx)(fe.a,{children:Object(M.jsxs)(me.a,{children:["Size: ",e.size]})}),Object(M.jsx)(fe.a,{children:Object(M.jsxs)(me.a,{children:["Color: ",e.color]})}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Quantity to add to stock"}),Object(M.jsx)(ce.a,{value:u,onChange:function(e){o(e.target.value)},type:"number"})]}),Object(M.jsx)(ve.a,{className:"bg-primary my-1",onClick:function(){E(e.id,e.size,u,e.color,e.description)&&r(!c)},children:"Add"})]}):Object(M.jsxs)("div",{className:"border border-dark m-1",children:[Object(M.jsxs)("p",{children:["Size: ",e.size]}),Object(M.jsxs)("p",{children:["Color: ",e.color]}),Object(M.jsxs)("p",{children:["Stock: ",u]}),Object(M.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(M.jsx)(ve.a,{className:"bg-primary mb-1",onClick:function(){return r(!c)},children:"Edit"}),Object(M.jsx)(ve.a,{className:"bg-danger mb-1",onClick:Object(d.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e.id,e.index);case 2:500===(n=t.sent).status?alert(n.msg):(c=n,e.setProduct(c));case 4:case"end":return t.stop()}}),t)}))),children:"Delete"})]})]})},Ee=function(e){var t=Object(s.useState)(e.product.images),n=Object(b.a)(t,1)[0],c=Object(s.useState)([]),r=Object(b.a)(c,2),a=r[0],i=r[1],u=Object(s.useState)([]),o=Object(b.a)(u,2),j=o[0],O=o[1],p=Object(s.useState)(!1),x=Object(b.a)(p,2),h=x[0],f=x[1],m=function(e){O((function(t){return[].concat(Object(ke.a)(t),[e.target.files[0]])}))};return Object(s.useEffect)((function(){for(var e=[],t=n.length;t<5;t++)e.push(t);i(e)}),[]),Object(M.jsxs)(he.a,{children:[a.map((function(){return Object(M.jsxs)(fe.a,{className:"mt-1",children:[Object(M.jsx)(me.a,{children:"Product picture"}),Object(M.jsxs)("div",{children:[Object(M.jsx)(ce.a,{type:"file",multiple:!0,name:"image",onChange:m}),Object(M.jsx)("hr",{})]})]})})),h?Object(M.jsx)("div",{className:"spinner-grow",role:"status"}):Object(M.jsx)(ve.a,{className:"bg-primary mb-2",onClick:Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,P(e.id,j);case 3:n=t.sent,e.setProduct(n),f(!1),e.hideForm();case 7:case"end":return t.stop()}}),t)}))),children:"add"})]})},Pe=function(e){var t=Object(s.useState)(""),n=Object(b.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(""),i=Object(b.a)(a,2),u=i[0],o=i[1],j=Object(s.useState)(0),O=Object(b.a)(j,2),p=O[0],x=O[1];return Object(M.jsxs)(he.a,{children:[Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Size"}),Object(M.jsx)(ce.a,{autoComplete:"off",value:c,onChange:function(e){r(e.target.value)},placeholder:"Product size"})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Color"}),Object(M.jsx)(ce.a,{autoComplete:"off",value:u,onChange:function(e){o(e.target.value)},placeholder:"Product color"})]}),Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(me.a,{children:"Quantity"}),Object(M.jsx)(ce.a,{autoComplete:"off",value:p,onChange:function(e){x(e.target.value)},type:"number",placeholder:"Enter product quantity",onFocus:function(){return x("")}})]}),Object(M.jsx)("div",{className:"text-center",children:Object(M.jsx)(ve.a,{className:"bg-primary my-1",onClick:Object(d.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c&&p&&u)){t.next=7;break}return t.next=3,E(e.id,c,p,u);case 3:(n=t.sent)&&((a=e.product).details.push(n.data),e.setProduct(a),o(""),r(""),x(0),e.setNewInfoForm(!e.newInfoForm)),t.next=8;break;case 7:alert("please fill all fields");case 8:case"end":return t.stop()}}),t)}))),children:"Add new info"})})]})},Te=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)({}),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useState)(!1),j=Object(b.a)(o,2),O=j[0],p=j[1],x=Object(s.useState)(!1),h=Object(b.a)(x,2),f=h[0],m=h[1],v=Object(s.useState)(!1),g=Object(b.a)(v,2),w=g[0],N=g[1],y=Object(s.useState)(!1),E=Object(b.a)(y,2),P=E[0],z=E[1],_=Object(s.useState)(!1),D=Object(b.a)(_,2),I=D[0],L=D[1],q=Object(s.useState)(""),U=Object(b.a)(q,2),J=U[0],A=U[1],F=Object(s.useState)(5),G=Object(b.a)(F,2),H=G[0],$=G[1],B=Object(s.useState)(!1),R=Object(b.a)(B,2),Q=R[0],V=R[1],K=function(){p(!O)},W=function(){L(!I)};return Object(s.useEffect)((function(){var e=window.location.href.split("?")[1];return c(e),function(){return c("")}}),[]),Object(s.useEffect)((function(){n&&Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,S(n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[n]),Object(s.useEffect)((function(){A(i.description)}),[i]),Object(s.useEffect)((function(){0===H&&($(0),V(!0)),H>0&&setTimeout((function(){$(H-1)}),1e3)}),[H]),n?i.details?Object(M.jsxs)("div",{className:"container mt-5 bg-light",children:[Object(M.jsxs)(Z.a,{children:[Object(M.jsxs)(ee.a,{xs:6,className:" bg-light ",children:[Object(M.jsx)("h1",{className:"text-center",children:i.name}),I?Object(M.jsxs)("div",{className:"text-center",children:[Object(M.jsx)(ce.a,{value:J,placeholder:J,onChange:function(e){A(e.target.value)}}),Object(M.jsx)(ve.a,{className:"bg-primary mt-2",onClick:function(){C(n,J),W()},children:"update"})]}):Object(M.jsxs)("div",{className:"text-center",children:[Object(M.jsx)("p",{children:J}),Object(M.jsx)("i",{onClick:W,className:"far fa-edit"})]}),Object(M.jsx)("div",{className:"text-center",children:Object(M.jsxs)("p",{children:[" Price: $",i.price.toLocaleString()]})}),Object(M.jsx)("hr",{}),Object(M.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(M.jsx)(ve.a,{className:"bg-primary mb-1",onClick:function(){m(!f)},children:f?"Hide":"Add new info"}),Object(M.jsx)(ve.a,{className:"bg-danger mb-1",onClick:Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n);case 2:N(!0);case 3:case"end":return e.stop()}}),e)}))),children:"Delete product"})]}),f?Object(M.jsx)(Pe,{newInfoForm:f,setNewInfoForm:m,id:n,setProduct:u,product:i}):null,Object(M.jsx)(Z.a,{children:i.details.map((function(e,t){var c=e.color,r=e.size,a=e.quantity;return Object(M.jsx)(ee.a,{xs:6,className:"text-center",children:Object(M.jsx)(Ce,{price:i.price,color:c,size:r,quantity:a,id:n,index:t,setProduct:u,product:i})},Y()())}))})]}),Object(M.jsxs)(ee.a,{xs:6,className:"mx-auto text-center",children:[Object(M.jsx)(Z.a,{children:i.images.map((function(e,t){return Object(M.jsxs)(ee.a,{xs:6,className:"mx-auto",children:[Object(M.jsx)("img",{className:"w-100 h-75 p-2 ",src:e.url,alt:""}),P?Object(M.jsx)("div",{className:"spinner-grow",role:"status"}):Object(M.jsx)(ve.a,{className:"bg-danger",onClick:Object(d.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,T(t,n);case 3:c=e.sent,u(c),z(!1);case 6:case"end":return e.stop()}}),e)}))),children:"Delete"})]},Y()())}))}),5===i.images.length?null:Object(M.jsx)(ve.a,{className:"bg-primary mb-2",onClick:K,children:O?"hide":"Add product image"}),O?Object(M.jsx)(Ee,{product:i,setProduct:u,id:n,hideForm:K}):null]})]}),w?Object(M.jsx)(ne.a,{to:"/#/admin-productos"}):null]}):Object(M.jsx)("p",{children:"loading"}):Object(M.jsxs)("div",{className:"text-center mt-5",children:[Object(M.jsx)("h5",{children:"Product not found"}),Object(M.jsxs)("p",{children:["Redirecting in: ",H]}),Q?Object(M.jsx)(ne.a,{to:"/#/admin-productos"}):null]})},ze=n(153),_e=n(154).a.div(a||(a=Object(ze.a)(["\n  background-color: ",";\n  width: ",";\n  height: ",";\n"])),(function(e){return e.color}),(function(e){return e.width}),(function(e){return e.height})),De=function(e){return Object(M.jsx)($.b,{to:e.route,children:Object(M.jsx)("i",{style:{fontSize:"50px"},className:"fas fa-angle-double-left"})})},Ie=function(e){var t=Object(s.useState)(""),n=Object(b.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)({}),i=Object(b.a)(a,2),u=i[0],o=i[1],j=Object(s.useState)([]),O=Object(b.a)(j,2),p=O[0],x=O[1],h=Object(s.useState)([]),f=Object(b.a)(h,2),m=f[0],v=f[1],g=Object(s.useState)(),w=Object(b.a)(g,2),N=w[0],y=w[1],k=Object(s.useState)(),C=Object(b.a)(k,2),E=C[0],P=C[1],T=Object(s.useState)(!1),z=Object(b.a)(T,2),D=z[0],I=z[1],L=Object(s.useState)(!1),q=Object(b.a)(L,2),U=q[0],J=q[1],A=Object(s.useContext)(te),F=A.user,G=A.setUser;Object(s.useEffect)((function(){var e=window.location.href.split("?")[1];return r(e),function(){return r("")}}),[]),Object(s.useEffect)((function(){c&&Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer "+localStorage.getItem("token"),e.t0=o,e.next=4,S(c,t);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))()}),[c]),Object(s.useEffect)((function(){if(u.details){var e=u.details,t={};e.forEach((function(e){t[e.size]||(t[e.size]=1)}));var n=function(e){x((function(t){return[].concat(Object(ke.a)(t),[e])}))};for(var c in t)n(c)}}),[u]);var H=function(e){y(e),function(e){var t=u.details,n={},c=[];for(var r in t.forEach((function(t){n[t.color]||t.size!==e||(n[t.color]=1)})),n)c.push(r);v(c)}(e)},$=function(){J(!0),setTimeout((function(){P(""),y(""),J(!1)}),2e3)};return F?F.admin?Object(M.jsx)(Te,{}):u.details?Object(M.jsxs)("div",{className:"container bg-light mt-5",children:[Object(M.jsx)(De,{route:"/products"}),Object(M.jsxs)(Z.a,{children:[Object(M.jsxs)(ee.a,{xs:6,className:" text-center",children:[Object(M.jsx)("h1",{children:u.name}),Object(M.jsx)("p",{children:u.description}),Object(M.jsx)("hr",{}),Object(M.jsxs)(Z.a,{children:[Object(M.jsx)("p",{children:"Available sizes"}),Object(M.jsx)("div",{className:"size-container",children:p.map((function(e,t){return Object(M.jsx)("div",{id:e,onClick:function(){H(e)},className:N===e?"selected":null,children:e},t)}))}),N?Object(M.jsxs)("div",{className:"color-container mt-4",children:[Object(M.jsx)("div",{children:Object(M.jsx)("p",{children:"Select a color"})}),Object(M.jsx)("div",{children:m.map((function(e,t){return Object(M.jsx)(_e,{color:e,height:"30px",width:"30px",onClick:function(){return P(e)},className:E===e?"selected":"color"},t)}))})]}):Object(M.jsx)("p",{children:" Select a size to see the available colors"}),D?Object(M.jsx)("div",{className:"spinner-grow mx-auto"}):E&&H&&Object(M.jsx)("div",{children:U?Object(M.jsx)("p",{className:"mt-2",children:"Product added to cart"}):Object(M.jsx)(ve.a,{className:"bg-primary my-4",onClick:Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(!0),t.next=3,_(e.id,c,N,E,1);case 3:n=t.sent,G(n),I(!1),$();case 7:case"end":return t.stop()}}),t)}))),children:"Add to cart"})})]})]}),Object(M.jsx)(ee.a,{xs:6,children:Object(M.jsx)(Z.a,{children:u.images.map((function(e,t){return Object(M.jsx)(ee.a,{xs:6,className:"mx-auto",children:Object(M.jsx)("img",{className:"w-100 h-75 p-2",src:e.url,alt:""})},t)}))})})]})]}):Object(M.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(M.jsx)("div",{className:"spinner-grow mx-auto"})}):Object(M.jsx)(ne.a,{to:"/"})},Le=n(321),qe=n(322),Ue=function(){var e=Object(s.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(0),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useState)([]),j=Object(b.a)(o,2),O=j[0],p=j[1],x=Object(s.useState)(!1),h=Object(b.a)(x,2),f=h[0],m=h[1],v=Object(s.useContext)(te),g=v.user;v.setUser;Object(s.useEffect)((function(){Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,F();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]);var w=function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.t0=p,e.next=4,G(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),m(!1),u(n);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){m(!0),n&&Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,G(n[0]._id);case 3:e.t1=e.sent,(0,e.t0)(e.t1),m(!1);case 6:case"end":return e.stop()}}),e)})))()}),[n]),g?Object(M.jsxs)("div",{className:"container text-center ",children:[Object(M.jsx)("p",{className:"mt-2",children:"Select a category to find all the products of that category"}),n?Object(M.jsx)(Le.a,{children:n.map((function(e,t){return Object(M.jsx)(qe.a,{onClick:function(){return w(e._id,t)},className:i===t?"active":"text-primary cursorPointer",id:t,children:e.name},e._id)}))}):Object(M.jsx)("div",{className:"spinner-grow"}),f?Object(M.jsx)("div",{className:"spinner-grow"}):O?Object(M.jsx)(Z.a,{children:O.map((function(e){return Object(M.jsx)(ee.a,{xs:3,className:"mx-auto",children:Object(M.jsx)(W,{name:e.name,images:e.images,price:e.price.toLocaleString()})},e.name)}))}):Object(M.jsx)("div",{className:"spinner-grow"})]}):Object(M.jsx)(ne.a,{to:"/"})},Je=function(e){var t=e.product,n=e.index,c=e.cartItems,r=e.id,a=e.setUser,i=e.setCartItems,u=Object(s.useState)(""),o=Object(b.a)(u,2),j=o[0],O=o[1],p=Object(s.useState)(!1),x=Object(b.a)(p,2),h=x[0],f=x[1];Object(s.useEffect)((function(){return t.quantity&&O(t.quantity),function(){return O("")}}),[]);var m=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),O(j+1),(t=Object(ke.a)(c))[n].quantity+=1,i(t),e.next=7,D(r,t);case 7:f(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),1!==j){e.next=4;break}return alert("Item cant have 0 quantity, either remove it. or leave at least 1"),e.abrupt("return");case 4:return O(j-1),(t=Object(ke.a)(c))[n].quantity-=1,i(t),e.next=10,D(r,t);case 10:f(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),(t=Object(ke.a)(c)).splice(n,1),i(t),e.next=6,D(r,t);case 6:s=e.sent,a(s),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(ee.a,{xs:5,md:3,className:" cart-container",children:[Object(M.jsx)("h5",{className:"text-center",children:t.name}),Object(M.jsx)("img",{src:t.image,className:"cart-img",alt:""}),Object(M.jsxs)("div",{className:"",children:[Object(M.jsx)(Z.a,{children:Object(M.jsxs)(ee.a,{className:"cart-card",children:[Object(M.jsxs)("p",{children:["Size: ",t.size]}),Object(M.jsx)(_e,{color:t.color,height:"15px",width:"15px"})]})}),Object(M.jsx)(Z.a,{className:"mb-2",children:h?Object(M.jsx)("div",{className:"spinner-grow mx-auto"}):Object(M.jsxs)(ee.a,{className:"cart-card",children:[Object(M.jsx)("i",{className:"fas fa-minus cursorPointer",onClick:v}),Object(M.jsx)("p",{children:j}),Object(M.jsx)("i",{className:"fas fa-plus cursorPointer",onClick:m})]})})]}),Object(M.jsxs)("p",{className:"text-center",children:["Total: $",(t.price*t.quantity).toLocaleString()]}),Object(M.jsx)("div",{className:"text-center cart-button-del",children:Object(M.jsx)("i",{className:"fas fa-times cursorPointer text-danger",onClick:g})})]})},Ae=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(0),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useState)(!1),j=Object(b.a)(o,2),O=j[0],p=j[1],x=Object(s.useContext)(te),h=x.user,f=x.setUser;Object(s.useEffect)((function(){h&&c(h.cart)}),[h]),Object(s.useEffect)((function(){var e=0;n&&n.forEach((function(t){e+=t.price*t.quantity})),u(e)}),[n]);var m=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c,r,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,I(t);case 3:if(200!==(n=e.sent).status){e.next=10;break}return c=n.data,r=c.date_created,a=c.id,s=c.items,i=c.init_point,e.next=8,L(h._id,a,"pending",s,r);case 8:window.location.replace(i),p(!1);case 10:p(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h?Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)(De,{route:"/"}),Object(M.jsx)(Z.a,{children:n&&n.map((function(e,t){return Object(M.jsx)(Je,{product:e,cartItems:n,setCartItems:c,index:t,id:h._id,setUser:f},t)}))}),n&&n.length?Object(M.jsxs)("div",{className:"text-center",children:[O?Object(M.jsx)("div",{className:"spinner-grow"}):Object(M.jsx)("button",{className:"btn btn-primary",onClick:function(){return m(h._id)},children:"Checkout"}),Object(M.jsx)("div",{className:"text-center bg-dark text-light w-75 mx-auto",children:Object(M.jsxs)("p",{className:"mt-3",children:["Total: $",i.toLocaleString()]})})]}):Object(M.jsx)("div",{className:"text-center bg-dark text-light w-75 mx-auto",children:Object(M.jsx)("p",{className:"mt-3",children:"Cart is empty"})})]}):Object(M.jsx)(ne.a,{to:"/"})},Fe=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useContext)(te),j=o.user,O=o.setUser,p=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.location.href).split("?")[1]){e.next=14;break}return n=t.split("?")[1].split("&"),r=n[7].split("=")[1],u(r),e.next=7,J(r,"approved");case 7:return a=[],e.next=10,D(j._id,a);case 10:s=e.sent,O(s),window.history.replaceState(null,null,t.split("?")[0]),c(!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){j&&p()}),[j]),n?Object(M.jsx)(ne.a,{to:"/transactiondetail?"+i}):null},Ge=n(323),He=function(){var e=Object(s.useContext)(te).user,t=Object(s.useState)([]),n=Object(b.a)(t,2),c=n[0],r=n[1],a=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e._id);case 2:n=t.sent,r(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){e&&a()}),[e]),e?c?Object(M.jsxs)("div",{className:"container text-center",children:[Object(M.jsx)("h3",{className:"text-center mt-3",children:" Transaction List"}),Object(M.jsxs)(Ge.a,{className:" mx-auto",children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"ID"}),Object(M.jsx)("th",{children:"Date"}),Object(M.jsx)("th",{children:"Product"}),Object(M.jsx)("th",{children:"Status"})]})}),c.map((function(e,t){var n=e.date,c=e.product,r=e.status,a=e.transaction_id;return Object(M.jsx)("tbody",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"row",width:"25%",id:t,className:"cursorPointer",children:Object(M.jsxs)($.b,{to:"/transactiondetail/?"+a,children:["Id: ",a]})}),Object(M.jsx)("td",{width:"25%",children:new Date(n).toLocaleDateString()}),c.length>1?Object(M.jsx)("td",{width:"25%",className:"multiple-items",children:c.map((function(e){return e.title+" "}))}):Object(M.jsx)("td",{width:"25%",children:c[0].title}),Object(M.jsxs)("td",{width:"25%",children:["Status: ",r]})]})},t)}))]}),Object(M.jsx)(De,{route:"/"})]}):Object(M.jsx)("div",{className:"mt-5 text-center",children:Object(M.jsx)("p",{className:"spinner-grow",children:"hola"})}):null},$e=function(){var e=Object(s.useContext)(te).user,t=Object(s.useState)(),n=Object(b.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(""),i=Object(b.a)(a,2),u=i[0],o=i[1],j=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,n=t.split("?")[1],e.next=4,q(n);case 4:(c=e.sent)&&r(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){j()}),[e]),Object(s.useEffect)((function(){var e=0;c&&c.product.forEach((function(t){e+=t.quantity*t.unit_price})),o(e)}),[c]),e?c?Object(M.jsxs)("div",{className:"container",children:[Object(M.jsxs)("h3",{children:["Transaction ID: ",c.transaction_id]}),Object(M.jsxs)("p",{children:["Date of transaction: ",new Date(c.date).toLocaleDateString()," "]}),Object(M.jsxs)("p",{children:["Status: ",c.status]}),Object(M.jsx)("h5",{className:"text-center",children:"Items purchased"}),Object(M.jsxs)("table",{className:"table text-center",children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Item"}),Object(M.jsx)("th",{children:"Unit price"}),Object(M.jsx)("th",{children:"quantity"})]})}),c.product.map((function(e,t){return Object(M.jsx)("tbody",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:e.title}),Object(M.jsx)("td",{children:e.unit_price.toLocaleString()}),Object(M.jsx)("td",{children:e.quantity})]})},t)}))]}),Object(M.jsxs)("h5",{className:"text-center",children:["Total: ",u.toLocaleString()]}),Object(M.jsx)(De,{route:"/transactions"})]}):Object(M.jsx)("div",{className:"mt-5 text-center",children:Object(M.jsx)("p",{className:"spinner-grow",children:"hola"})}):null},Be=function(){var e=Object(s.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(0),a=Object(b.a)(r,2),i=a[0],u=a[1],o=Object(s.useState)([]),j=Object(b.a)(o,2),O=j[0],p=j[1],x=Object(s.useState)(!1),h=Object(b.a)(x,2),f=h[0],m=h[1],v=Object(s.useContext)(te).user;Object(s.useEffect)((function(){return Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,F();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),function(){return c()}}),[]);var g=function(){var e=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.t0=p,e.next=4,G(t);case 4:return e.t1=e.sent,(0,e.t0)(e.t1),m(!1),u(n),e.abrupt("return",(function(){return p([])}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){if(m(!0),n)return Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,G(n[0]._id);case 3:e.t1=e.sent,(0,e.t0)(e.t1),m(!1);case 6:case"end":return e.stop()}}),e)})))(),function(){return p([])}}),[n]),v?Object(M.jsxs)("div",{className:"container text-center ",children:[Object(M.jsx)("p",{className:"mt-2",children:"Select a category to find all the products of that category"}),n?Object(M.jsx)(Le.a,{children:n.map((function(e,t){return Object(M.jsx)(qe.a,{onClick:function(){return g(e._id,t)},className:i===t?"active":"text-primary cursorPointer",id:t,children:e.name},e._id)}))}):Object(M.jsx)("div",{className:"spinner-grow"}),f?Object(M.jsx)("div",{className:"spinner-grow"}):O?O.length?Object(M.jsx)(Z.a,{children:O.map((function(e){return Object(M.jsx)(ee.a,{xs:3,className:"mx-auto",children:Object(M.jsx)(W,{name:e.name,images:e.images,price:e.price,id:e._id})},e.name)}))}):Object(M.jsx)("p",{children:" No Products found"}):Object(M.jsx)("div",{className:"spinner-grow"}),Object(M.jsx)(De,{route:"/"})]}):Object(M.jsx)(ne.a,{to:"/"})},Re=function(e){var t=Object(s.useState)([]),n=Object(b.a)(t,2),c=n[0],r=n[1],a=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return a(),function(){return r([])}}),[]),Object(M.jsxs)("div",{className:"container text-center",children:[Object(M.jsx)("h3",{className:"text-center my-5",children:"Transaction List"}),Object(M.jsxs)(Ge.a,{children:[Object(M.jsx)("thead",{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{width:"25%",children:"ID"}),Object(M.jsx)("th",{width:"25%",children:"User"}),Object(M.jsx)("th",{width:"25%",children:"Date"}),Object(M.jsx)("th",{width:"25%",children:"Products"}),Object(M.jsx)("th",{width:"25%",children:"Status"})]})}),c.length&&c.map((function(e,t){var n=e.transaction_id,c=e.user,r=e.date,a=e.product,s=e.status;return Object(M.jsx)("tbody",{id:n,children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{children:n}),Object(M.jsx)("td",{children:c.username}),Object(M.jsx)("td",{children:new Date(r).toLocaleDateString()}),a.length>1?Object(M.jsx)("td",{width:"25%",className:"multiple-items",children:a.map((function(e){return e.title+" "}))}):Object(M.jsx)("td",{width:"25%",children:a[0].title}),Object(M.jsx)("td",{children:s})]})},t)}))]})]})},Qe=function(e){var t=Object(s.useState)(!1),n=Object(b.a)(t,2),c=n[0],r=n[1],a=Object(s.useState)(""),i=Object(b.a)(a,2),u=i[0],o=i[1],j=Object(s.useContext)(te).user,O=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.location.href).split("?")[1]){e.next=9;break}return n=t.split("?")[1].split("&"),c=n[7].split("=")[1],o(c),e.next=7,J(c,"canceled");case 7:window.history.replaceState(null,null,t.split("?")[0]),r(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){j&&O()}),[j]),c?Object(M.jsx)(ne.a,{to:"/transactiondetail?"+u}):null};var Ve=function(){var e=Object(s.useState)(),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=(c=localStorage.getItem("token"))?(r=x.a.decode(c),new Date(1e3*r.exp)<new Date(Date.now())?void localStorage.clear():c="Bearer "+c):null)){e.next=9;break}return e.t0=a,e.next=5,m(t);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=10;break;case 9:a(null);case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(M.jsx)($.a,{children:Object(M.jsxs)(te.Provider,{value:{user:n,setUser:a},children:[Object(M.jsx)(pe,{}),Object(M.jsxs)(ne.d,{children:[Object(M.jsx)(ne.b,{path:"/logged",component:xe}),Object(M.jsx)(ne.b,{path:"/login",component:ge}),Object(M.jsx)(ne.b,{path:"/newaccount",component:we}),Object(M.jsx)(ne.b,{path:"/admin-productos",component:Se}),Object(M.jsx)(ne.b,{path:"/admin-categorias",component:Ue}),Object(M.jsx)(ne.b,{path:"/cart",component:Ae}),Object(M.jsx)(ne.b,{path:"/purchasesuccess",component:Fe}),Object(M.jsx)(ne.b,{path:"/transactions",component:He}),Object(M.jsx)(ne.b,{path:"/transactiondetail",component:$e}),Object(M.jsx)(ne.b,{path:"/categories",component:Be}),Object(M.jsx)(ne.b,{path:"/admin-transactions",component:Re}),Object(M.jsx)(ne.b,{path:"/purchasefailure",component:Qe}),n&&Object(M.jsx)(ne.b,{path:"/product",render:function(e){return Object(M.jsx)(Ie,Object(o.a)({id:n._id},e))}}),Object(M.jsx)(ne.b,{path:"/",component:ae})]})]})})};n(300),n(301);u.a.render(Object(M.jsx)(Ve,{}),document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.479a9f6e.chunk.js.map