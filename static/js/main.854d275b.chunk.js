(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{171:function(e,t){},173:function(e,t){},186:function(e,t){},188:function(e,t){},216:function(e,t){},218:function(e,t){},219:function(e,t){},224:function(e,t){},226:function(e,t){},232:function(e,t){},234:function(e,t){},253:function(e,t){},265:function(e,t){},268:function(e,t){},301:function(e,t,n){},302:function(e,t,n){"use strict";n.r(t);var c,r,a,s,i,u=n(1),o=n(58),j=n.n(o),l=n(160),d=n(3),b=n.n(d),O=n(6),p=n(4),h=(n(154),n(155)),x=n.n(h),f="https://ecommercedemosite.herokuapp.com",m={Authorization:c,"Content-Type":"application/json"},v=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r._id,e.next=4,fetch(f+"/user/"+t);case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"/logout");case 2:localStorage.clear();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(b.a.mark((function e(t,n){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"/user/login",{method:"POST",headers:m,body:JSON.stringify({email:t,password:n})});case 2:return c=e.sent,e.next=5,c.json();case 5:return r=e.sent,200===c.status&&localStorage.setItem("token",r.token),e.abrupt("return",{data:r,status:c.status});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"/user/new",{method:"POST",headers:m,body:JSON.stringify({email:t,username:n,password:c,confirm:r})});case 2:return a=e.sent,e.next=5,a.json();case 5:return s=e.sent,e.abrupt("return",{response:a,data:s});case 7:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/products");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r,a,s,i,u){var o,j,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("name",t),o.append("price",c),o.append("category",n),o.append("color",r),o.append("size",a),o.append("quantity",s),o.append("image",i),o.append("description",u),e.prev=9,e.next=12,fetch(f+"/product/new",{method:"POST",body:o});case 12:return j=e.sent,e.next=15,j.json();case 15:return l=e.sent,e.abrupt("return",{status:j.status,data:l});case 19:return e.prev=19,e.t0=e.catch(9),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t,n,c,r,a,s,i,u){return e.apply(this,arguments)}}(),S=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/product/"+t,{method:"GET"});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r,a){var s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f+"/product/cart/"+t,{method:"PUT",headers:m,body:JSON.stringify({id:n,size:c,color:r,quantity:a})});case 2:return s=e.sent,e.next=5,s.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c,r,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(b.a.mark((function e(t,n){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/user/product/cart/"+t,{method:"PUT",headers:m,body:JSON.stringify({cart:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/checkout/"+t,{method:"POST",headers:m});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",{data:c,status:n.status});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(O.a)(b.a.mark((function e(t,n,c,r,a){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/transaction/new",{method:"POST",headers:m,body:JSON.stringify({userId:t,transaction_id:n,status:c,items:r,date:a})});case 3:return s=e.sent,e.next=6,s.json();case 6:e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,c,r,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/transaction/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/transactions/user/"+t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/transaction/update",{method:"PUT",headers:m,body:JSON.stringify({id:t,status:n})});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/transactions/all",{method:"GET",headers:m});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/categories");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/category/product",{method:"POST",headers:m,body:JSON.stringify({category:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(f+"/category/new",{method:"POST",headers:m,body:JSON.stringify({name:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),A=n(39),J=Object(u.createContext)({}),G=n(46),$=n(47),F=$.a.div(a||(a=Object(G.a)(["\n  background-color: ",";\n  width: 18px;\n  height: 18px;\n  border-radius: 4px;\n  margin: 2px;\n\n  &:hover {\n    transform: scale(1.3);\n    cursor: pointer;\n  }\n\n  @media (max-width: 520px) {\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 0.1rem;\n  }\n"])),(function(e){return e.color})),B=(n(159),n(303),n(304),n(305),n(306),n(0)),H=Object($.b)(s||(s=Object(G.a)(["\nfrom {\n    transform: rotate(0deg);\n}\nto {\n    transform: rotate(360deg);\n}\n"]))),M=$.a.div(i||(i=Object(G.a)(["\n  animation: "," 1s linear infinite;\n  border-top: 2px solid gray;\n  border-right: 2px solid gray;\n  border-bottom: 2px solid gray;\n  border-left: 4px solid black;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  margin: auto;\n"])),H),R=function(e){var t=e.setNewAccount,n=Object(u.useState)(""),c=Object(p.a)(n,2),r=c[0],a=c[1],s=Object(u.useState)(""),i=Object(p.a)(s,2),o=i[0],j=i[1],l=Object(u.useState)(""),d=Object(p.a)(l,2),h=d[0],x=d[1],f=Object(u.useState)(""),m=Object(p.a)(f,2),v=m[0],g=m[1],w=Object(u.useState)(!1),k=Object(p.a)(w,2),y=k[0],S=k[1],C=Object(u.useState)(!1),P=Object(p.a)(C,2),E=P[0],_=P[1],L=Object(u.useState)(3),q=Object(p.a)(L,2),I=q[0],T=q[1],z=Object(u.useState)(!1),D=Object(p.a)(z,2),U=D[0],A=D[1];Object(u.useEffect)((function(){E&&I>0&&setTimeout((function(){T(I-1)}),1e3)}),[E,I]),Object(u.useEffect)((function(){0===I&&t(!1)}),[I,t]);var J=function(){return Object(B.jsx)("div",{className:"btn-container",children:Object(B.jsx)("button",{className:"btn btn-black",onClick:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),t.preventDefault(),e.next=4,N(r,o,h,v);case 4:500===(n=e.sent).response.status&&(S(n.data.errors),A(!1)),200===n.response.status&&(A(!1),_(!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Create"})})},G=function(){return y.map((function(e){return Object(B.jsx)("div",{className:"errors",children:Object(B.jsx)("label",{children:e.msg})})}))},$=function(){return Object(B.jsxs)("div",{className:"success-container",children:[Object(B.jsx)("p",{children:"Account Created!"}),Object(B.jsxs)("p",{children:["Closing in... ",I]})]})};return Object(B.jsx)("div",{className:"overlay",onClick:function(){t(!1)},children:Object(B.jsxs)("form",{action:"",className:"form ",onClick:function(e){return e.stopPropagation()},children:[Object(B.jsxs)("div",{className:"input-container new-acc",children:[Object(B.jsx)("input",{type:"text",name:"email",value:r,onChange:function(e){a(e.target.value),S(!1)},required:!0}),Object(B.jsx)("label",{children:"Email"})]}),Object(B.jsxs)("div",{className:"input-container new-acc",children:[Object(B.jsx)("input",{type:"text",name:"username",value:o,onChange:function(e){j(e.target.value),S(!1)},required:!0}),Object(B.jsx)("label",{children:"Username"})]}),Object(B.jsxs)("div",{className:"input-container new-acc",children:[Object(B.jsx)("input",{type:"password",name:"password",value:h,onChange:function(e){x(e.target.value),S(!1)},required:!0}),Object(B.jsx)("label",{children:"Password"})]}),Object(B.jsxs)("div",{className:"input-container new-acc",children:[Object(B.jsx)("input",{type:"password",name:"password",value:v,onChange:function(e){g(e.target.value),S(!1)},required:!0}),Object(B.jsx)("label",{children:"Confirm Password"})]}),y?Object(B.jsx)(G,{}):U?Object(B.jsx)(M,{}):E?Object(B.jsx)($,{}):Object(B.jsx)(J,{})]})})},V=function(e){var t=e.setLogin,n=Object(u.useState)(""),c=Object(p.a)(n,2),r=c[0],a=c[1],s=Object(u.useState)(""),i=Object(p.a)(s,2),o=i[0],j=i[1],l=Object(u.useState)(!1),d=Object(p.a)(l,2),h=d[0],x=d[1],f=Object(u.useState)(""),m=Object(p.a)(f,2),v=m[0],g=m[1],N=Object(u.useContext)(J).setUser,k=Object(u.useState)(!1),y=Object(p.a)(k,2),S=y[0],C=y[1],P=Object(u.useState)(!1),E=Object(p.a)(P,2),_=E[0],L=E[1],q=function(){return Object(B.jsx)("div",{className:"btn-container",children:Object(B.jsx)("button",{className:"btn btn-black",onClick:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),t.preventDefault(),e.next=4,w(r,o);case 4:200===(n=e.sent).status&&(x(!0),N(n.data.user)),500===n.status&&g(n.data),C(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Log in"})})};return _?Object(B.jsx)(R,{setNewAccount:L}):Object(B.jsx)("div",{className:"overlay",onClick:function(){t(!1)},children:Object(B.jsxs)("div",{className:"form",onClick:function(e){return e.stopPropagation()},children:[Object(B.jsxs)("div",{className:"input-container",children:[Object(B.jsx)("input",{type:"text",name:"email",value:r,onChange:function(e){a(e.target.value)},autoComplete:"off",required:!0}),Object(B.jsx)("label",{children:"Email"})]}),Object(B.jsxs)("div",{className:"input-container",children:[Object(B.jsx)("input",{type:"password",name:"password",value:o,onChange:function(e){j(e.target.value)},required:!0}),Object(B.jsx)("label",{children:"Password"})]}),v?Object(B.jsx)("div",{className:"error",children:Object(B.jsx)("label",{children:v})}):null,S?Object(B.jsx)("div",{className:"spinner-container",children:Object(B.jsx)(M,{})}):Object(B.jsxs)("div",{children:[Object(B.jsx)(q,{}),Object(B.jsx)("div",{className:"google-container",children:Object(B.jsxs)("div",{className:"btn btn-google",children:[Object(B.jsx)("div",{className:"google-icon-wrapper",children:Object(B.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"",className:""})}),Object(B.jsx)("div",{children:Object(B.jsx)("a",{onClick:function(){return C(!0)},href:"https://ecommercedemosite.herokuapp.com/user/google/login",className:"btn-text",children:"Google Login"})})]})}),Object(B.jsx)("div",{className:"new-account",children:Object(B.jsx)("button",{className:"btn btn-black",onClick:function(){L(!_)},children:"Create Account"})})]}),h?t(!1):null,_?Object(B.jsx)(R,{}):null]})})},W=function(e){var t=e.toggleModal,n=e.name,c=e.img,r=e.id,a=Object(u.useState)({}),s=Object(p.a)(a,2),i=s[0],o=s[1],j=Object(u.useState)([]),l=Object(p.a)(j,2),d=l[0],h=l[1],x=Object(u.useState)([]),f=Object(p.a)(x,2),m=f[0],v=f[1],g=Object(u.useState)(),w=Object(p.a)(g,2),N=w[0],k=w[1],y=Object(u.useState)(),P=Object(p.a)(y,2),E=P[0],_=P[1],L=Object(u.useState)(!1),q=Object(p.a)(L,2),I=q[0],T=q[1],z=Object(u.useState)(!1),D=Object(p.a)(z,2),U=D[0],G=D[1],$=Object(u.useState)(!1),H=Object(p.a)($,2),R=H[0],W=H[1],Y=Object(u.useState)(!1),K=Object(p.a)(Y,2),Q=K[0],X=K[1],Z=Object(u.useContext)(J),ee=Z.user,te=Z.setUser;Object(u.useEffect)((function(){r&&Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,S(r);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[r]),Object(u.useEffect)((function(){if(i.details){var e=i.details,t={};e.forEach((function(e){t[e.size]||(t[e.size]=1)}));var n=function(e){h((function(t){return[].concat(Object(A.a)(t),[e])}))};for(var c in t)n(c)}}),[i]);var ne=function(){return d.map((function(e,t){return Object(B.jsx)("p",{onClick:function(){return ce(e)},className:N===e?"selected-size":"size",children:e},t)}))},ce=function(e){N&&(k(),_()),k(e),function(e){var t=i.details,n={},c=[];for(var r in t.forEach((function(t){n[t.color]||t.size!==e||(n[t.color]=1)})),n)c.push(r);v(c)}(e)},re=function(){return Object(B.jsx)("div",{className:"detail-color-list",children:m.map((function(e,t){return Object(B.jsx)("div",{onClick:function(){return _(e)},children:Object(B.jsx)(F,{color:e},t)})}))})},ae=function(){return Object(B.jsx)("p",{className:"btn btn-black",onClick:Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,C(ee._id,r,N,E,1);case 3:t=e.sent,te(t),T(!1),G(!0);case 7:case"end":return e.stop()}}),e)}))),children:"add to cart"})},se=function(){X(!Q)},ie=function(){return Object(B.jsx)("p",{className:"btn btn-login",onClick:se,children:"Log in to continue"})};return Q?Object(B.jsx)(V,{setLogin:X}):Object(B.jsx)("div",{className:"overlay",onClick:t,children:Object(B.jsxs)("div",{className:"main-modal",onClick:function(e){return e.stopPropagation()},children:[Object(B.jsxs)("div",{className:"header-modal",children:[Object(B.jsx)("span",{className:"close-btn",onClick:t,children:"\u03a7"}),Object(B.jsx)("div",{className:"modal-img",children:Object(B.jsx)("img",{src:c,alt:"",className:"detail-img"})})]}),Object(B.jsxs)("div",{className:"body-modal",onClick:function(){return W(!1)},children:[Object(B.jsx)("p",{className:"detail-name",children:n}),Object(B.jsx)("p",{className:"detail-price",children:"$50"}),Object(B.jsxs)("div",{className:"detail-container",children:[Object(B.jsx)("div",{className:"detail-sizes",children:Object(B.jsx)(ne,{})}),Object(B.jsx)("div",{className:"detail-color-container",children:N?E?Object(B.jsx)("div",{className:"detail-color",children:Object(B.jsx)(F,{color:E})}):R?Object(B.jsx)(re,{}):Object(B.jsx)("div",{className:"detail-color",onClick:function(e){e.stopPropagation(),W(!R)},children:Object(B.jsx)("i",{className:"fas fa-caret-down"})}):Object(B.jsx)("div",{className:"detail-color",children:Object(B.jsx)(F,{})})})]}),ee?E?I?Object(B.jsx)(M,{}):U?Object(B.jsx)("p",{className:"added-msg",children:"product added "}):Object(B.jsx)(ae,{}):Object(B.jsx)("p",{className:"btn-disabled btn ",children:"add to cart"}):Object(B.jsx)(ie,{})]})]})})},Y=function(e){var t=e.id,n=e.name,c=e.price,r=e.images,a=Object(u.useState)(!1),s=Object(p.a)(a,2),i=s[0],o=s[1],j=function(){return o(!i)};return Object(B.jsxs)("div",{className:"card-container",children:[Object(B.jsx)("div",{children:Object(B.jsx)("img",{className:"detail-img",src:r[0].url,alt:n})}),Object(B.jsxs)("div",{children:[Object(B.jsx)("h4",{children:n}),Object(B.jsxs)("p",{className:"card-price",children:["$ ",c.toLocaleString()]}),Object(B.jsx)("button",{className:"btn btn-black",onClick:j,children:"Info"})]}),i?Object(B.jsx)(W,{id:t,modal:i,toggleModal:j,name:n,img:r[0].url}):null]})},K=function(e){var t=e.products,n=Object(u.useState)(""),c=Object(p.a)(n,2),r=c[0],a=c[1],s=Object(u.useState)([]),i=Object(p.a)(s,2),o=i[0],j=i[1],l=function(){var t=Object(O.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(n._id);case 2:t.t0=t.sent,c=[t.t0],e.setSelectedCat(""),e.setProducts(c),a(""),j([]);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(B.jsx)("div",{children:Object(B.jsxs)("div",{className:"autocomplete",children:[Object(B.jsx)("input",{onChange:function(e){var n=[];e.target.value.length&&(n=t.filter((function(t){var n=new RegExp("".concat(e.target.value),"gi");return t.name.match(n)}))),j(n),a(e.target.value)},value:r,placeholder:"What are you looking for ?"}),Object(B.jsx)("div",{className:"autocomplete-items",children:o&&o.map((function(e,t){return Object(B.jsx)("div",{onClick:function(){return l(e)},children:e.name},t)}))}),Object(B.jsx)("div",{className:"search",children:Object(B.jsx)("i",{className:"fas fa-search"})})]})})},Q=n.p+"static/media/home.266fbb07.png",X=function(e){var t=Object(u.useState)(),n=Object(p.a)(t,2),c=n[0],r=n[1];Object(u.useEffect)((function(){return Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,z();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),function(){return r()}}),[]);var a=function(){var t=Object(O.a)(b.a.mark((function t(n,c){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoading(!0),t.t0=e,t.next=4,D(n);case 4:return t.t1=t.sent,t.t0.setProducts.call(t.t0,t.t1),e.setSelectedCat(c+1),e.setLoading(!1),t.abrupt("return",(function(){return e.setProducts([])}));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),s=function(){var t=Object(O.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,k();case 3:t.t1=t.sent,t.t0.setProducts.call(t.t0,t.t1),e.setSelectedCat(0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(B.jsxs)("div",{className:"categories-container",children:[Object(B.jsx)("div",{className:0===e.selectedCat?"categories-card selected-cat":"categories-card",onClick:function(e){return s(e)},style:{backgroundImage:"url(".concat(Q,")")},children:Object(B.jsx)("div",{className:"ribbon ribbon-top-left",children:Object(B.jsx)("span",{children:"all"})})}),c&&c.map((function(t,n){var c=t.name,r=t.image,s=t._id;return Object(B.jsx)("div",{id:n+1,className:e.selectedCat===n+1?"categories-card selected-cat":"categories-card",style:{backgroundImage:"url(".concat(r.url,")")},onClick:function(e){return a(s,n)},children:Object(B.jsx)("div",{className:"ribbon ribbon-top-left",children:Object(B.jsx)("span",{children:c})})},n)}))]})},Z=function(){var e=Object(u.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(u.useState)(!1),a=Object(p.a)(r,2),s=a[0],i=a[1],o=Object(u.useState)(0),j=Object(p.a)(o,2),l=j[0],d=j[1];return Object(u.useEffect)((function(){return Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,k();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),function(){c()}}),[]),Object(B.jsxs)("div",{className:"text-center",children:[Object(B.jsx)(X,{products:n,setProducts:c,setLoading:i,selectedCat:l,setSelectedCat:d}),Object(B.jsx)(K,{products:n,setProducts:c,selectedCat:l,setSelectedCat:d}),Object(B.jsx)("div",{className:"home-container container",children:s?Object(B.jsx)("div",{className:"spinner-grow"}):n&&n.map((function(e,t){var n=e.name,c=e._id,r=e.description,a=e.images,s=e.size,i=e.color,u=e.price;return Object(B.jsx)(Y,{id:c,name:n,description:r,images:a,size:s,color:i,price:u},t)}))})]})},ee=n(307),te=n(308),ne=n(309),ce=n(310),re=n(311),ae=n(312),se=n(313),ie=function(){var e=Object(u.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(u.useContext)(J),a=r.user,s=r.setUser,i=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:s(null),window.location.replace("/ecommerce-client/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{className:"px-2 container",children:[Object(B.jsxs)(ee.a,{color:"light",light:!0,expand:"md",children:[Object(B.jsx)(te.a,{href:"/ecommerce-client/#/admin-productos",children:a.username}),Object(B.jsx)(ne.a,{onClick:function(){return c(!n)}}),Object(B.jsx)(ce.a,{isOpen:n,navbar:!0,children:Object(B.jsxs)(re.a,{className:"mr-auto",navbar:!0,children:[Object(B.jsx)(ae.a,{children:Object(B.jsx)(se.a,{href:"/ecommerce-client/#/admin-transactions",children:"Transactions"})}),Object(B.jsx)(ae.a,{children:Object(B.jsx)(se.a,{href:"/ecommerce-client/#/admin-categorias",children:"Categories"})}),Object(B.jsx)(ae.a,{children:Object(B.jsx)(se.a,{href:"/ecommerce-client/#/admin-productos",children:"Products"})}),a?Object(B.jsx)(ae.a,{children:Object(B.jsx)(se.a,{href:"#",onClick:i,children:"Log out"})}):null]})})]}),Object(B.jsx)("div",{className:"home-title",children:Object(B.jsx)("h1",{children:"Lorem"})})]})},ue=(n.p,function(e){var t=e.product,n=e.index,c=e.cartItems,r=e.id,a=e.setUser,s=e.setCartItems,i=Object(u.useState)(""),o=Object(p.a)(i,2),j=o[0],l=o[1],d=Object(u.useState)(!1),h=Object(p.a)(d,2),x=(h[0],h[1]);Object(u.useEffect)((function(){return t.quantity&&l(t.quantity),function(){return l("")}}),[]);var f=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),l(j+1),(t=Object(A.a)(c))[n].quantity+=1,s(t),e.next=7,P(r,t);case 7:x(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),1!==j){e.next=4;break}return alert("Item cant have 0 quantity, either remove it. or leave at least 1"),e.abrupt("return");case 4:return l(j-1),(t=Object(A.a)(c))[n].quantity-=1,s(t),e.next=10,P(r,t);case 10:x(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(O.a)(b.a.mark((function e(){var t,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),(t=Object(A.a)(c)).splice(n,1),s(t),e.next=6,P(r,t);case 6:i=e.sent,a(i),x(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{className:"cart-container",children:[Object(B.jsx)("div",{className:"img-container",children:Object(B.jsx)("img",{src:t.image,alt:""})}),Object(B.jsx)("div",{className:"title",children:Object(B.jsx)("h4",{children:t.name})}),Object(B.jsx)("div",{className:"price",children:Object(B.jsxs)("p",{children:["$ ",t.price.toLocaleString()]})}),Object(B.jsxs)("div",{className:"quantity",children:[t.quantity>1?Object(B.jsx)("span",{className:"minus fadeIn",onClick:m,children:Object(B.jsx)("i",{className:"fas fa-minus"})}):Object(B.jsx)("span",{className:"minus fadeOut",onClick:v,children:Object(B.jsx)("i",{className:"fas fa-trash text-danger"})}),Object(B.jsx)("span",{className:"number",children:t.quantity}),Object(B.jsx)("span",{className:"plus",onClick:f,children:Object(B.jsx)("i",{className:"fas fa-plus"})})]})]})}),oe=n.p+"static/media/empty-cart.916aede4.svg",je=function(e){var t=e.setIsCartOpen,n=Object(u.useState)([]),c=Object(p.a)(n,2),r=c[0],a=c[1],s=Object(u.useState)(0),i=Object(p.a)(s,2),o=i[0],j=i[1],l=Object(u.useState)(!1),d=Object(p.a)(l,2),h=d[0],x=d[1],f=Object(u.useContext)(J),m=f.user,v=f.setUser;Object(u.useEffect)((function(){m&&a(m.cart)}),[m]),Object(u.useEffect)((function(){var e=0;r&&r.forEach((function(t){e+=t.price*t.quantity})),j(e)}),[r]);var g=function(){var e=Object(O.a)(b.a.mark((function e(t){var n,c,r,a,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,E(t);case 3:if(200!==(n=e.sent).status){e.next=10;break}return c=n.data,r=c.date_created,a=c.id,s=c.items,i=c.init_point,e.next=8,_(m._id,a,"pending",s,r);case 8:window.location.replace(i),x(!1);case 10:x(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(m._id,[]);case 3:t=e.sent,v(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){return Object(B.jsxs)("div",{className:"total-container",children:[Object(B.jsxs)("div",{className:"total",children:[Object(B.jsx)("h4",{children:"TOTAL"}),Object(B.jsxs)("p",{children:["$",o.toLocaleString()]})]}),h?Object(B.jsx)("div",{className:"spinner-grow"}):Object(B.jsx)("button",{className:"btn btn-black",onClick:function(){return g(m._id)},children:"checkout"})]})},k=function(){return Object(B.jsx)("div",{className:"empty-cart",children:Object(B.jsxs)("div",{className:"",children:[Object(B.jsx)("img",{src:oe,alt:""}),Object(B.jsx)("p",{className:"",children:Object(B.jsx)("b",{children:"Your cart is empty"})}),Object(B.jsx)("p",{children:"Check out all of our products"}),Object(B.jsx)("button",{className:"btn btn-black",onClick:y,children:Object(B.jsx)("b",{children:"Products"})})]})})},y=function(){t(!1)};return Object(B.jsx)("div",{className:"overlay",onClick:y,children:Object(B.jsxs)("div",{className:"cart-items-container",onClick:function(e){return e.stopPropagation()},children:[Object(B.jsx)("button",{className:" x-btn",onClick:y,children:"x"}),Object(B.jsx)("h3",{children:"Shopping cart"}),m&&m.cart.length?Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"clear-cart",onClick:w,children:Object(B.jsxs)("p",{children:[Object(B.jsx)("i",{className:"fas fa-trash text-danger"})," empty cart"]})}),r&&r.map((function(e,t){return Object(B.jsxs)("div",{children:[Object(B.jsx)(ue,{product:e,cartItems:r,setCartItems:a,index:t,id:m._id,setUser:v}),Object(B.jsx)("hr",{})]},t)})),Object(B.jsx)(N,{})]}):Object(B.jsx)(k,{})]})})},le=function(){var e=Object(u.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(u.useState)(!1),a=Object(p.a)(r,2),s=a[0],i=a[1],o=Object(u.useState)(""),j=Object(p.a)(o,2),l=j[0],d=j[1],h=Object(u.useState)(!1),x=Object(p.a)(h,2),f=x[0],m=x[1],v=Object(u.useState)(!1),w=Object(p.a)(v,2),N=w[0],k=w[1],y=function(){k(!N),i(!1)},S=function(){return i(!s)},C=Object(u.useContext)(J),P=C.user,E=C.setUser;Object(u.useEffect)((function(){P&&c(P.cart)}),[P]),Object(u.useEffect)((function(){var e=0;n&&n.map((function(t){e+=t.price*t.quantity})),d(e)}),[n]);var _=function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:E(null),c(null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){return s?Object(B.jsxs)("div",{className:"user-nav-show grow ",children:[Object(B.jsxs)("p",{onClick:S,className:"user-name",children:[P.username," ",Object(B.jsx)("i",{className:"fas fa-caret-up"})]}),Object(B.jsx)("p",{onClick:function(){y(),S()},children:"Cart"}),Object(B.jsx)("p",{onClick:S,children:"Transactions"}),Object(B.jsx)("p",{onClick:function(){k(!1),S(),_()},children:"Log out"})]}):Object(B.jsx)("div",{className:"user-nav nav-buttons",children:Object(B.jsxs)("p",{onClick:S,children:["Account ",Object(B.jsx)("i",{className:"fas fa-caret-down"})," "]})})},q=function(){return Object(B.jsx)("p",{className:"user-nav nav-buttons",onClick:function(){return m(!0)},children:"Log in"})},I=function(){return Object(B.jsx)("div",{className:"title-container",children:Object(B.jsx)("h1",{children:"EcommercE"})})};return Object(B.jsxs)("div",{className:"",children:[Object(B.jsx)("div",{className:" header-container",children:Object(B.jsxs)("div",{className:"cart-user-container",children:[Object(B.jsxs)("div",{className:"cart-nav nav-buttons",onClick:y,children:[Object(B.jsx)("i",{className:"fas fa-shopping-cart"}),Object(B.jsxs)("i",{className:l?"header-total":"hidden",children:["$ ",l.toLocaleString()]}),P&&P.cart.length?Object(B.jsx)("span",{className:"cart-length",children:P.cart.length}):null]}),P?Object(B.jsx)(L,{}):Object(B.jsx)(q,{})]})}),Object(B.jsx)(I,{}),f?Object(B.jsx)(V,{setLogin:m}):null,N?Object(B.jsx)(je,{setIsCartOpen:k}):null]})},de=function(){var e=Object(u.useContext)(J).user;return e&&e.admin?Object(B.jsx)(ie,{}):Object(B.jsx)(le,{})},be=n(23),Oe=n(12),pe=function(e){var t=Object(u.useState)(""),n=Object(p.a)(t,2),c=n[0],r=n[1];return Object(u.useEffect)((function(){var e=window.location.href,t=e.split("?")[1],n=t.split("=")[1];r(t.split("=")[1]),window.history.pushState({},"",e.split("?")[0]),localStorage.setItem("token",n)}),[]),Object(B.jsx)("div",{children:c?Object(B.jsx)(Oe.a,{to:"/"}):null})},he=n(49),xe=n.n(he),fe=n(319),me=n(320),ve=n(314),ge=n(315),we=n(316),Ne=n(317),ke=n(318),ye=function(){var e=Object(u.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(u.useState)(0),a=Object(p.a)(r,2),s=a[0],i=a[1],o=Object(u.useState)(""),j=Object(p.a)(o,2),l=j[0],d=j[1],h=Object(u.useState)(""),x=Object(p.a)(h,2),f=x[0],m=x[1],v=Object(u.useState)(""),g=Object(p.a)(v,2),w=g[0],N=g[1],k=Object(u.useState)(0),S=Object(p.a)(k,2),C=S[0],P=S[1],E=Object(u.useState)([]),_=Object(p.a)(E,2),L=_[0],q=_[1],I=Object(u.useState)(!1),T=Object(p.a)(I,2),D=T[0],U=T[1],A=Object(u.useState)(),J=Object(p.a)(A,2),G=J[0],$=J[1],F=Object(u.useState)(""),H=Object(p.a)(F,2),M=H[0],R=H[1],V=Object(u.useState)(""),W=Object(p.a)(V,2),Y=W[0],K=W[1],Q=Object(u.useState)(""),X=Object(p.a)(Q,2),Z=X[0],ee=X[1],te=Object(u.useState)(!1),ne=Object(p.a)(te,2),ce=ne[0],re=ne[1],ae=function(){U(!D),se()},se=function(){d(""),c(""),i(0),N(""),P(0),m(""),ee("")};return Object(u.useEffect)((function(){return Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q,e.next=3,z();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),function(){return q()}}),[]),L?D?Object(B.jsxs)("div",{className:" mb-2",children:[Object(B.jsx)("div",{className:"text-center",children:Object(B.jsx)(ve.a,{className:"bg-primary",onClick:ae,children:"Hide"})}),Object(B.jsxs)(ge.a,{encType:"multipart/form-data",children:[Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Category"}),Object(B.jsxs)(ke.a,{type:"select",name:"category",onChange:function(e){var t=e.target.selectedIndex,n=e.target.options[t];d(n.id)},defaultValue:l,children:[Object(B.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),L.map((function(e){return Object(B.jsx)("option",{id:e._id,children:e.name},e._id)}))]})]}),Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Product name"}),Object(B.jsx)(ke.a,{name:"productName",autoComplete:"off",value:n,placeholder:"enter product name",onChange:function(e){c(e.target.value)}})]}),Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Product description"}),Object(B.jsx)(ke.a,{name:"description",autoComplete:"off",value:Z,onChange:function(e){ee(e.target.value)},placeholder:"brief description"})]}),Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Product price"}),Object(B.jsx)(ke.a,{type:"number",name:"productPrice",autoComplete:"off",value:s,onChange:function(e){i(e.target.value)},placeholder:"Enter product price",onFocus:function(){return i("")}})]}),Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Product size"}),Object(B.jsx)(ke.a,{name:"size",autoComplete:"off",value:f,placeholder:"enter product size",onChange:function(e){m(e.target.value)}})]}),Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Product color"}),Object(B.jsx)(ke.a,{name:"color",autoComplete:"off",value:w,placeholder:"enter product color",onChange:function(e){N(e.target.value)}})]}),Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Product stock"}),Object(B.jsx)(ke.a,{type:"number",name:"quantity",autoComplete:"off",value:C,placeholder:"enter product quantity/stock",onChange:function(e){P(e.target.value)},onFocus:function(){return P("")}})]}),Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Product picture"}),Object(B.jsx)("div",{children:Object(B.jsx)(ke.a,{type:"file",name:"image",onChange:function(e){K(e.target.files[0])}})})]}),Object(B.jsxs)(we.a,{className:"text-center mt-3",children:[G?G.map((function(e){return Object(B.jsx)(we.a,{className:"mb-1",children:Object(B.jsx)(Ne.a,{children:e.msg})},xe()())})):null,ce?Object(B.jsx)("div",{className:"spinner-grow",role:"status"}):Object(B.jsx)(ve.a,{className:"bg-primary",onClick:Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.next=3,y(n,l,s,w,f,C,Y,Z);case 3:t=e.sent,re(!1),500===t.status?$(t.data):(se(),R(t.data._id));case 6:case"end":return e.stop()}}),e)}))),children:"Add product"})]})]}),M?Object(B.jsx)(Oe.a,{to:"/product?"+M}):null]}):Object(B.jsx)("div",{className:"text-center mb-2",children:Object(B.jsx)(ve.a,{className:"bg-primary",onClick:ae,children:"Add new product"})}):Object(B.jsx)("p",{children:"loading"})},Se=function(){var e=Object(u.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(u.useState)([]),a=Object(p.a)(r,2),s=(a[0],a[1]),i=Object(u.useState)(!1),o=Object(p.a)(i,2),j=o[0],l=o[1],d=Object(u.useState)(!1),h=Object(p.a)(d,2),x=h[0],f=h[1],m=function(){return l(!j)};return Object(u.useEffect)((function(){Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,z();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),j?Object(B.jsxs)("div",{className:"text-center mb-2",children:[Object(B.jsx)(ve.a,{className:"bg-primary",onClick:m,children:"Hide"}),Object(B.jsxs)(ge.a,{children:[Object(B.jsxs)(we.a,{children:[Object(B.jsx)(Ne.a,{children:"Category name"}),Object(B.jsx)(ke.a,{name:"productCategory",value:n,placeholder:"enter category name",onChange:function(e){c(e.target.value)}})]}),Object(B.jsx)(we.a,{className:"text-center mt-3",children:x?Object(B.jsx)("div",{className:"spinner-grow"}):Object(B.jsx)(ve.a,{className:"bg-primary",onClick:Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,U(n);case 3:f(!1),l(!1);case 5:case"end":return e.stop()}}),e)}))),children:"Add category"})})]})]}):Object(B.jsx)("div",{className:"text-center mb-2",children:Object(B.jsx)(ve.a,{className:"bg-primary",onClick:m,children:"Add new category"})})},Ce=function(){var e=Object(u.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(u.useContext)(J).user;return Object(u.useEffect)((function(){return Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,k();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))(),function(){return c()}}),[]),r&&r.admin?Object(B.jsxs)(fe.a,{className:"mt-5 mx-auto container",children:[Object(B.jsxs)(me.a,{children:[Object(B.jsx)(fe.a,{md:6,children:Object(B.jsx)(ye,{})}),Object(B.jsx)(fe.a,{md:6,children:Object(B.jsx)(Se,{})})]}),Object(B.jsxs)(me.a,{children:[Object(B.jsx)("div",{className:"text-center",children:Object(B.jsx)(K,{products:n})}),n?n.map((function(e){var t=e.name,n=e._id,c=e.images,r=e.description,a=e.color,s=e.size,i=e.price;return Object(B.jsx)(fe.a,{md:6,lg:3,xs:12,className:"mt-2 mx-auto",children:Object(B.jsx)(Y,{id:n,name:t,price:i,images:c,description:r,color:a,size:s},xe()())},xe()())})):null]})]}):Object(B.jsx)(Oe.a,{to:"/"})},Pe=n(321),Ee=n(322),_e=function(){var e=Object(u.useState)(),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(u.useState)(0),a=Object(p.a)(r,2),s=a[0],i=a[1],o=Object(u.useState)([]),j=Object(p.a)(o,2),l=j[0],d=j[1],h=Object(u.useState)(!1),x=Object(p.a)(h,2),f=x[0],m=x[1],v=Object(u.useContext)(J),g=v.user;v.setUser;Object(u.useEffect)((function(){Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,z();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]);var w=function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.t0=d,e.next=4,D(t);case 4:e.t1=e.sent,(0,e.t0)(e.t1),m(!1),i(n);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){m(!0),n&&Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,D(n[0]._id);case 3:e.t1=e.sent,(0,e.t0)(e.t1),m(!1);case 6:case"end":return e.stop()}}),e)})))()}),[n]),g?Object(B.jsxs)("div",{className:"container text-center ",children:[Object(B.jsx)("p",{className:"mt-2",children:"Select a category to find all the products of that category"}),n?Object(B.jsx)(Pe.a,{children:n.map((function(e,t){return Object(B.jsx)(Ee.a,{onClick:function(){return w(e._id,t)},className:s===t?"active":"text-primary cursorPointer",id:t,children:e.name},e._id)}))}):Object(B.jsx)("div",{className:"spinner-grow"}),f?Object(B.jsx)("div",{className:"spinner-grow"}):l?Object(B.jsx)(me.a,{children:l.map((function(e){return Object(B.jsx)(fe.a,{sm:12,md:6,lg:3,className:"mx-auto",children:Object(B.jsx)(Y,{name:e.name,images:e.images,price:e.price.toLocaleString(),id:e._id})},e.name)}))}):Object(B.jsx)("div",{className:"spinner-grow"})]}):Object(B.jsx)(Oe.a,{to:"/"})},Le=function(){var e=Object(u.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(u.useState)(""),a=Object(p.a)(r,2),s=a[0],i=a[1],o=Object(u.useContext)(J),j=o.user,l=o.setUser,d=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n,r,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.location.href).split("?")[1]){e.next=14;break}return n=t.split("?")[1].split("&"),r=n[7].split("=")[1],i(r),e.next=7,I(r,"approved");case 7:return a=[],e.next=10,P(j._id,a);case 10:s=e.sent,l(s),window.history.replaceState(null,null,t.split("?")[0]),c(!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){j&&d()}),[j]),n?Object(B.jsx)(Oe.a,{to:"/transactiondetail?"+s}):null},qe=n(323),Ie=function(e){return Object(B.jsx)(be.b,{to:e.route,children:Object(B.jsx)("i",{style:{fontSize:"50px"},className:"fas fa-angle-double-left"})})},Te=function(){var e=Object(u.useContext)(J).user,t=Object(u.useState)([]),n=Object(p.a)(t,2),c=n[0],r=n[1],a=function(){var t=Object(O.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e._id);case 2:n=t.sent,r(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){e&&a()}),[e]),e?c?Object(B.jsxs)("div",{className:"container text-center",children:[Object(B.jsx)("h3",{className:"text-center mt-3",children:" Transaction List"}),Object(B.jsxs)(qe.a,{responsive:!0,bordered:!0,className:"mx-auto",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"Date"}),Object(B.jsx)("th",{children:"Product"}),Object(B.jsx)("th",{children:"Status"})]})}),c.map((function(e,t){var n=e.date,c=e.product,r=e.status,a=e.transaction_id;return Object(B.jsx)("tbody",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{scope:"row",width:"25%",id:t,className:"cursorPointer",children:Object(B.jsxs)(be.b,{to:"/transactiondetail/?"+a,children:["Id: ",a]})}),Object(B.jsx)("td",{width:"25%",children:new Date(n).toLocaleDateString()}),c.length>1?Object(B.jsx)("td",{width:"25%",className:"multiple-items",children:c.map((function(e){return e.title+" "}))}):Object(B.jsx)("td",{width:"25%",children:c[0].title}),Object(B.jsxs)("td",{width:"25%",children:["Status: ",r]})]})},t)}))]}),Object(B.jsx)(Ie,{route:"/"})]}):Object(B.jsx)("div",{className:"mt-5 text-center",children:Object(B.jsx)("p",{className:"spinner-grow"})}):null},ze=function(){var e=Object(u.useContext)(J).user,t=Object(u.useState)(),n=Object(p.a)(t,2),c=n[0],r=n[1],a=Object(u.useState)(""),s=Object(p.a)(a,2),i=s[0],o=s[1],j=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,n=t.split("?")[1],e.next=4,L(n);case 4:(c=e.sent)&&r(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){j()}),[e]),Object(u.useEffect)((function(){var e=0;c&&c.product.forEach((function(t){e+=t.quantity*t.unit_price})),o(e)}),[c]),e?c?Object(B.jsxs)("div",{className:"container",children:[Object(B.jsxs)("h3",{children:["Transaction ID: ",c.transaction_id]}),Object(B.jsxs)("p",{children:["Date of transaction: ",new Date(c.date).toLocaleDateString()," "]}),Object(B.jsxs)("p",{children:["Status: ",c.status]}),Object(B.jsx)("h5",{className:"text-center",children:"Items purchased"}),Object(B.jsxs)("table",{className:"table text-center",children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"Item"}),Object(B.jsx)("th",{children:"Unit price"}),Object(B.jsx)("th",{children:"quantity"})]})}),c.product.map((function(e,t){return Object(B.jsx)("tbody",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:e.title}),Object(B.jsx)("td",{children:e.unit_price.toLocaleString()}),Object(B.jsx)("td",{children:e.quantity})]})},t)}))]}),Object(B.jsxs)("h5",{className:"text-center",children:["Total: ",i.toLocaleString()]}),Object(B.jsx)(Ie,{route:"/transactions"})]}):Object(B.jsx)("div",{className:"mt-5 text-center",children:Object(B.jsx)("p",{className:"spinner-grow",children:"hola"})}):null},De=function(e){var t=Object(u.useState)([]),n=Object(p.a)(t,2),c=n[0],r=n[1],a=function(){var e=Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){return a(),function(){return r([])}}),[]),Object(B.jsxs)("div",{className:"container text-center",children:[Object(B.jsx)("h3",{className:"text-center my-5",children:"Transaction List"}),Object(B.jsxs)(qe.a,{responsive:!0,size:"sm",bordered:!0,children:[Object(B.jsx)("thead",{children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{children:"ID"}),Object(B.jsx)("th",{children:"User"}),Object(B.jsx)("th",{children:"Date"}),Object(B.jsx)("th",{children:"Products"}),Object(B.jsx)("th",{children:"Status"})]})}),c.length&&c.map((function(e,t){var n=e.transaction_id,c=e.user,r=e.date,a=e.product,s=e.status;return Object(B.jsx)("tbody",{id:n,children:Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:n}),Object(B.jsx)("td",{children:c.username}),Object(B.jsx)("td",{children:new Date(r).toLocaleDateString()}),a.length>1?Object(B.jsx)("td",{className:"multiple-items",children:a.map((function(e){return e.title+" "}))}):Object(B.jsx)("td",{width:"25%",children:a[0].title}),Object(B.jsx)("td",{children:s})]})},t)}))]})]})},Ue=function(e){var t=Object(u.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],a=Object(u.useState)(""),s=Object(p.a)(a,2),i=s[0],o=s[1],j=Object(u.useContext)(J).user,l=function(){var e=Object(O.a)(b.a.mark((function e(){var t,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.location.href).split("?")[1]){e.next=9;break}return n=t.split("?")[1].split("&"),c=n[7].split("=")[1],o(c),e.next=7,I(c,"canceled");case 7:window.history.replaceState(null,null,t.split("?")[0]),r(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){console.log("here"),j&&l()}),[j]),c?Object(B.jsx)(Oe.a,{to:"/transactiondetail?"+i}):null};var Ae=function(){var e=Object(u.useState)(),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(u.useEffect)((function(){Object(O.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=(c=localStorage.getItem("token"))?(r=x.a.decode(c),new Date(1e3*r.exp)<new Date(Date.now())?void localStorage.clear():c="Bearer "+c):null)){e.next=9;break}return e.t0=a,e.next=5,v(t);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=10;break;case 9:a(null);case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(B.jsx)(be.a,{children:Object(B.jsxs)(J.Provider,{value:{user:n,setUser:a},children:[Object(B.jsx)(de,{}),Object(B.jsxs)(Oe.d,{children:[Object(B.jsx)(Oe.b,{path:"/logged",component:pe}),Object(B.jsx)(Oe.b,{path:"/login",component:V}),Object(B.jsx)(Oe.b,{path:"/newaccount",component:R}),Object(B.jsx)(Oe.b,{path:"/admin-productos",component:Ce}),Object(B.jsx)(Oe.b,{path:"/admin-categorias",component:_e}),Object(B.jsx)(Oe.b,{path:"/cart",component:je}),Object(B.jsx)(Oe.b,{path:"/purchasesuccess",component:Le}),Object(B.jsx)(Oe.b,{path:"/transactions",component:Te}),Object(B.jsx)(Oe.b,{path:"/transactiondetail",component:ze}),Object(B.jsx)(Oe.b,{path:"/categories",component:X}),Object(B.jsx)(Oe.b,{path:"/admin-transactions",component:De}),Object(B.jsx)(Oe.b,{path:"/purchasefailure",component:Ue}),n&&Object(B.jsx)(Oe.b,{path:"/product",render:function(e){return Object(B.jsx)(W,Object(l.a)({id:n._id},e))}}),Object(B.jsx)(Oe.b,{path:"/",component:Z})]})]})})};n(301);j.a.render(Object(B.jsx)(Ae,{}),document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.854d275b.chunk.js.map